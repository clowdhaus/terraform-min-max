(()=>{var __webpack_modules__={7351:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const i=a(r(2087));const s=r(5278);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const l="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=l+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${l}${escapeData(this.message)}`;return e}}function escapeData(e){return s.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return s.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};var i=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const s=r(7351);const l=r(717);const u=r(5278);const c=a(r(2087));const f=a(r(5622));const d=r(8041);var p;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(p=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=u.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${c.EOL}${r}${c.EOL}${t}`;l.issueCommand("ENV",n)}else{s.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){s.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){l.issueCommand("PATH",e)}else{s.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));return r}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const o=getInput(e,t);if(r.includes(o))return true;if(n.includes(o))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(c.EOL);s.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){s.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=p.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){s.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){s.issueCommand("error",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){s.issueCommand("warning",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){s.issueCommand("notice",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+c.EOL)}t.info=info;function startGroup(e){s.issue("group",e)}t.startGroup=startGroup;function endGroup(){s.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return i(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){s.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return i(this,void 0,void 0,(function*(){return yield d.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken},717:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);o(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const i=a(r(5747));const s=a(r(2087));const l=r(5278);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!i.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}i.appendFileSync(r,`${l.toCommandValue(t)}${s.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},8041:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const o=r(9925);const a=r(3702);const i=r(2186);class OidcClient{static createHttpClient(e=true,t=10){const r={allowRetries:e,maxRetries:t};return new o.HttpClient("actions/oidc-client",[new a.BearerCredentialHandler(OidcClient.getRequestToken())],r)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return n(this,void 0,void 0,(function*(){const r=OidcClient.createHttpClient();const n=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const o=(t=n.result)===null||t===void 0?void 0:t.value;if(!o){throw new Error("Response json body do not have ID Token field")}return o}))}static getIDToken(e){return n(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const r=encodeURIComponent(e);t=`${t}&audience=${r}`}i.debug(`ID token url is ${t}`);const r=yield OidcClient.getCall(t);i.setSecret(r);return r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},5278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},3702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Bearer "+this.token}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},9925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8605);const o=r(7211);const a=r(6443);let i;var s;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(s=t.HttpCodes||(t.HttpCodes={}));var l;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(l=t.Headers||(t.Headers={}));var u;(function(e){e["ApplicationJson"]="application/json"})(u=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){let t=a.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const c=[s.MovedPermanently,s.ResourceMoved,s.SeeOther,s.TemporaryRedirect,s.PermanentRedirect];const f=[s.BadGateway,s.ServiceUnavailable,s.GatewayTimeout];const d=["OPTIONS","GET","DELETE","HEAD"];const p=10;const h=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return new Promise((async(e,t)=>{let r=Buffer.alloc(0);this.message.on("data",(e=>{r=Buffer.concat([r,e])}));this.message.on("end",(()=>{e(r.toString())}))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){let t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,r){return this.request("POST",e,t,r||{})}patch(e,t,r){return this.request("PATCH",e,t,r||{})}put(e,t,r){return this.request("PUT",e,t,r||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,r,n){return this.request(e,t,r,n)}async getJson(e,t={}){t[l.Accept]=this._getExistingOrDefaultHeader(t,l.Accept,u.ApplicationJson);let r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[l.Accept]=this._getExistingOrDefaultHeader(r,l.Accept,u.ApplicationJson);r[l.ContentType]=this._getExistingOrDefaultHeader(r,l.ContentType,u.ApplicationJson);let o=await this.post(e,n,r);return this._processResponse(o,this.requestOptions)}async putJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[l.Accept]=this._getExistingOrDefaultHeader(r,l.Accept,u.ApplicationJson);r[l.ContentType]=this._getExistingOrDefaultHeader(r,l.ContentType,u.ApplicationJson);let o=await this.put(e,n,r);return this._processResponse(o,this.requestOptions)}async patchJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[l.Accept]=this._getExistingOrDefaultHeader(r,l.Accept,u.ApplicationJson);r[l.ContentType]=this._getExistingOrDefaultHeader(r,l.ContentType,u.ApplicationJson);let o=await this.patch(e,n,r);return this._processResponse(o,this.requestOptions)}async request(e,t,r,n){if(this._disposed){throw new Error("Client has already been disposed.")}let o=new URL(t);let a=this._prepareRequest(e,o,n);let i=this._allowRetries&&d.indexOf(e)!=-1?this._maxRetries+1:1;let l=0;let u;while(l<i){u=await this.requestRaw(a,r);if(u&&u.message&&u.message.statusCode===s.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++){if(this.handlers[t].canHandleAuthentication(u)){e=this.handlers[t];break}}if(e){return e.handleAuthentication(this,a,r)}else{return u}}let t=this._maxRedirects;while(c.indexOf(u.message.statusCode)!=-1&&this._allowRedirects&&t>0){const i=u.message.headers["location"];if(!i){break}let s=new URL(i);if(o.protocol=="https:"&&o.protocol!=s.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}await u.readBody();if(s.hostname!==o.hostname){for(let e in n){if(e.toLowerCase()==="authorization"){delete n[e]}}}a=this._prepareRequest(e,s,n);u=await this.requestRaw(a,r);t--}if(f.indexOf(u.message.statusCode)==-1){return u}l+=1;if(l<i){await u.readBody();await this._performExponentialBackoff(l)}}return u}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return new Promise(((r,n)=>{let callbackForResult=function(e,t){if(e){n(e)}r(t)};this.requestRawWithCallback(e,t,callbackForResult)}))}requestRawWithCallback(e,t,r){let n;if(typeof t==="string"){e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let o=false;let handleResult=(e,t)=>{if(!o){o=true;r(e,t)}};let a=e.httpModule.request(e.options,(e=>{let t=new HttpClientResponse(e);handleResult(null,t)}));a.on("socket",(e=>{n=e}));a.setTimeout(this._socketTimeout||3*6e4,(()=>{if(n){n.end()}handleResult(new Error("Request timeout: "+e.options.path),null)}));a.on("error",(function(e){handleResult(e,null)}));if(t&&typeof t==="string"){a.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){a.end()}));t.pipe(a)}else{a.end()}}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const a={};a.parsedUrl=t;const i=a.parsedUrl.protocol==="https:";a.httpModule=i?o:n;const s=i?443:80;a.options={};a.options.host=a.parsedUrl.hostname;a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):s;a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||"");a.options.method=e;a.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){a.options.headers["user-agent"]=this.userAgent}a.options.agent=this._getAgent(a.parsedUrl);if(this.handlers){this.handlers.forEach((e=>{e.prepareRequest(a.options)}))}return a}_mergeHeaders(e){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,r){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});let n;if(this.requestOptions&&this.requestOptions.headers){n=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||n||r}_getAgent(e){let t;let s=a.getProxyUrl(e);let l=s&&s.hostname;if(this._keepAlive&&l){t=this._proxyAgent}if(this._keepAlive&&!l){t=this._agent}if(!!t){return t}const u=e.protocol==="https:";let c=100;if(!!this.requestOptions){c=this.requestOptions.maxSockets||n.globalAgent.maxSockets}if(l){if(!i){i=r(4294)}const e={maxSockets:c,keepAlive:this._keepAlive,proxy:{...(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`},host:s.hostname,port:s.port}};let n;const o=s.protocol==="https:";if(u){n=o?i.httpsOverHttps:i.httpsOverHttp}else{n=o?i.httpOverHttps:i.httpOverHttp}t=n(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:c};t=u?new o.Agent(e):new n.Agent(e);this._agent=t}if(!t){t=u?o.globalAgent:n.globalAgent}if(u&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){e=Math.min(p,e);const t=h*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}static dateTimeDeserializer(e,t){if(typeof t==="string"){let e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}async _processResponse(e,t){return new Promise((async(r,n)=>{const o=e.message.statusCode;const a={statusCode:o,result:null,headers:{}};if(o==s.NotFound){r(a)}let i;let l;try{l=await e.readBody();if(l&&l.length>0){if(t&&t.deserializeDates){i=JSON.parse(l,HttpClient.dateTimeDeserializer)}else{i=JSON.parse(l)}a.result=i}a.headers=e.message.headers}catch(e){}if(o>299){let e;if(i&&i.message){e=i.message}else if(l&&l.length>0){e=l}else{e="Failed request: ("+o+")"}let t=new HttpClientError(e,o);t.result=a.result;n(t)}else{r(a)}}))}}t.HttpClient=HttpClient},6443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getProxyUrl(e){let t=e.protocol==="https:";let r;if(checkBypass(e)){return r}let n;if(t){n=process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{n=process.env["http_proxy"]||process.env["HTTP_PROXY"]}if(n){r=new URL(n)}return r}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}let t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}let n=[e.hostname.toUpperCase()];if(typeof r==="number"){n.push(`${n[0]}:${r}`)}for(let e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(n.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},2371:e=>{"use strict";function dataUriToBuffer(e){if(!/^data:/i.test(e)){throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")')}e=e.replace(/\r?\n/g,"");const t=e.indexOf(",");if(t===-1||t<=4){throw new TypeError("malformed data: URI")}const r=e.substring(5,t).split(";");let n="";let o=false;const a=r[0]||"text/plain";let i=a;for(let e=1;e<r.length;e++){if(r[e]==="base64"){o=true}else{i+=`;${r[e]}`;if(r[e].indexOf("charset=")===0){n=r[e].substring(8)}}}if(!r[0]&&!n.length){i+=";charset=US-ASCII";n="US-ASCII"}const s=o?"base64":"ascii";const l=unescape(e.substring(t+1));const u=Buffer.from(l,s);u.type=a;u.typeFull=i;u.charset=n;return u}e.exports=dataUriToBuffer},4777:(e,t,r)=>{"use strict";var n;var o=r(7053),a=r(5747),i=r(6172),s=r(5622);function readFile(e){return i.nfcall(a.readFile,e,"utf-8")}function searchFile(e){return function(t){var r=t.match(e.regex),n=t.match(e.lineRegEx);return{filename:e.filename,match:r,lines:n}}}function getFileFilter(e){if(typeof e==="string"){e=new RegExp(e)}else if(typeof e==="undefined"){e=new RegExp(".")}return e}function getRegEx(e,t){var r,n,o;if(typeof e==="object"&&e.flags){n=e.term;r=e.flags}else{n=e;r="g"}o="(.*"+n+".*)";if(t==="line"){return new RegExp(o,r)}return new RegExp(n,r)}function getMatchedFiles(e,t){var r=[];for(var n=t.length-1;n>=0;n--){r.push(readFile(t[n]).then(searchFile({regex:getRegEx(e),lineRegEx:getRegEx(e,"line"),filename:t[n]})))}return r}function getResults(e){var t=[];for(var r=0;r<e.length;r++){var n=e[r].value;if(n&&n.match!==null){t[n.filename]={matches:n.match,count:n.match.length,line:n.lines}}}return t}t.s=function(e,t,r){var n=i.defer();o.file(getFileFilter(r),t,(function(t){i.allSettled(getMatchedFiles(e,t)).then((function(e){n.resolve(getResults(e))})).done()})).error((function(e){n.reject(e)}));return n.promise};n=function(e,t,r){var n=i.defer();var a;try{a=o.fileSync(getFileFilter(r),t);i.allSettled(getMatchedFiles(e,a)).then((function(e){n.resolve(getResults(e))})).done()}catch(e){n.reject(e)}return n.promise}},7053:(e,t,r)=>{var n=r(5747),o=r(5622),a=r(7093);var i=e.exports={};var s={};["readdir","lstat"].forEach((function(e){var t=n[e];s[e]=function(e,r){return t.apply(n,[e,function(e){if(e){if(i.__errorHandler){i.__errorHandler(e)}else{throw e}}return r.apply(null,arguments)}])}}));var l=function(e){var t={String:"string",RegExp:"regx",Function:"func"};Object.keys(t).forEach((function(r){e[t[r]]=function(e){return Object.prototype.toString.call(e)==="[object "+r+"]"}}));return e}({});var compare=function(e,t){var r=o.basename(t);return l.regx(e)&&e.test(r)||l.string(e)&&e===r};var traverseAsync=function(e,t,r,n,i){s.lstat(e,(function(l,u){if(u&&u.isDirectory()){s.readdir(e,(function(l,u){var c=a();u&&u.forEach((function(a){a=o.join(e,a);c.add((function(){s.lstat(a,(function(e,o){if(!o)return c.next();if(o.isFile()&&t==="file"){r(a);c.next()}else if(o.isDirectory()){if(t==="dir"){r(a)}traverseAsync(a,t,r,n,c)}else{c.next()}}))}))}));c.traverse((function(){i?i.next():n()}))}))}}))};var traverseSync=function(e,t,r){var a=n.lstatSync(e);if(a&&a.isDirectory()){n.readdirSync(e).forEach((function(a){var i=n.lstatSync(a=o.join(e,a));if(!i)return;if(i.isFile()&&t==="file"){r(a)}else if(i.isDirectory()){t==="dir"&&r(a);traverseSync(a,t,r)}}))}};["file","dir"].forEach((function(e){i[e]=function(t,r,n){var o=[];traverseAsync(r,e,(function(e){o.push(e)}),(function(){l.func(n)&&n(o.filter((function(e){return compare(t,e)})))}));return{error:function(e){if(l.func(e)){i.__errorHandler=e}}}};i["each"+e]=function(t,r,n){var callback=function(){};process.nextTick((function(){traverseAsync(r,e,(function(e){if(compare(t,e)&&l.func(n)){n(e)}}),callback)}));return{end:function(e){if(l.func(e)){callback=e}return this},error:function(e){if(l.func(e)){i.__errorHandler=e}return this}}};i[e+"Sync"]=function(t,r){var n=[];traverseSync(r,e,(function(e){n.push(e)}));return n.filter((function(e){return compare(t,e)}))}}))},7129:(e,t,r)=>{"use strict";const n=r(665);const o=Symbol("max");const a=Symbol("length");const i=Symbol("lengthCalculator");const s=Symbol("allowStale");const l=Symbol("maxAge");const u=Symbol("dispose");const c=Symbol("noDisposeOnSet");const f=Symbol("lruList");const d=Symbol("cache");const p=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||Infinity;const r=e.length||naiveLength;this[i]=typeof r!=="function"?naiveLength:r;this[s]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0;this[u]=e.dispose;this[c]=e.noDisposeOnSet||false;this[p]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||Infinity;trim(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[l]=e;trim(this)}get maxAge(){return this[l]}set lengthCalculator(e){if(typeof e!=="function")e=naiveLength;if(e!==this[i]){this[i]=e;this[a]=0;this[f].forEach((e=>{e.length=this[i](e.value,e.key);this[a]+=e.length}))}trim(this)}get lengthCalculator(){return this[i]}get length(){return this[a]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;r!==null;){const n=r.prev;forEachStep(this,e,r,t);r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;r!==null;){const n=r.next;forEachStep(this,e,r,t);r=n}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){if(this[u]&&this[f]&&this[f].length){this[f].forEach((e=>this[u](e.key,e.value)))}this[d]=new Map;this[f]=new n;this[a]=0}dump(){return this[f].map((e=>isStale(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){r=r||this[l];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const n=r?Date.now():0;const s=this[i](t,e);if(this[d].has(e)){if(s>this[o]){del(this,this[d].get(e));return false}const i=this[d].get(e);const l=i.value;if(this[u]){if(!this[c])this[u](e,l.value)}l.now=n;l.maxAge=r;l.value=t;this[a]+=s-l.length;l.length=s;this.get(e);trim(this);return true}const p=new Entry(e,t,s,n,r);if(p.length>this[o]){if(this[u])this[u](e,t);return false}this[a]+=p.length;this[f].unshift(p);this[d].set(e,this[f].head);trim(this);return true}has(e){if(!this[d].has(e))return false;const t=this[d].get(e).value;return!isStale(this,t)}get(e){return get(this,e,true)}peek(e){return get(this,e,false)}pop(){const e=this[f].tail;if(!e)return null;del(this,e);return e.value}del(e){del(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r];const o=n.e||0;if(o===0)this.set(n.k,n.v);else{const e=o-t;if(e>0){this.set(n.k,n.v,e)}}}}prune(){this[d].forEach(((e,t)=>get(this,t,false)))}}const get=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(isStale(e,t)){del(e,n);if(!e[s])return undefined}else{if(r){if(e[p])n.value.now=Date.now();e[f].unshiftNode(n)}}return t.value}};const isStale=(e,t)=>{if(!t||!t.maxAge&&!e[l])return false;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]};const trim=e=>{if(e[a]>e[o]){for(let t=e[f].tail;e[a]>e[o]&&t!==null;){const r=t.prev;del(e,t);t=r}}};const del=(e,t)=>{if(t){const r=t.value;if(e[u])e[u](r.key,r.value);e[a]-=r.length;e[d].delete(r.key);e[f].removeNode(t)}};class Entry{constructor(e,t,r,n,o){this.key=e;this.value=t;this.length=r;this.now=n;this.maxAge=o||0}}const forEachStep=(e,t,r,n)=>{let o=r.value;if(isStale(e,o)){del(e,r);if(!e[s])o=undefined}if(o)t.call(n,o.value,o.key,e)};e.exports=LRUCache},6172:e=>{
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(t){"use strict";if(typeof bootstrap==="function"){bootstrap("promise",t)}else if(true){e.exports=t()}else{var r,n}})((function(){"use strict";var e=false;try{throw new Error}catch(t){e=!!t.stack}var t=captureLine();var r;var noop=function(){};var n=function(){var e={task:void 0,next:null};var t=e;var r=false;var o=void 0;var a=false;var i=[];function flush(){var t,n;while(e.next){e=e.next;t=e.task;e.task=void 0;n=e.domain;if(n){e.domain=void 0;n.enter()}runSingle(t,n)}while(i.length){t=i.pop();runSingle(t)}r=false}function runSingle(e,t){try{e()}catch(e){if(a){if(t){t.exit()}setTimeout(flush,0);if(t){t.enter()}throw e}else{setTimeout((function(){throw e}),0)}}if(t){t.exit()}}n=function(e){t=t.next={task:e,domain:a&&process.domain,next:null};if(!r){r=true;o()}};if(typeof process==="object"&&process.toString()==="[object process]"&&process.nextTick){a=true;o=function(){process.nextTick(flush)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){o=setImmediate.bind(window,flush)}else{o=function(){setImmediate(flush)}}}else if(typeof MessageChannel!=="undefined"){var s=new MessageChannel;s.port1.onmessage=function(){o=requestPortTick;s.port1.onmessage=flush;flush()};var requestPortTick=function(){s.port2.postMessage(0)};o=function(){setTimeout(flush,0);requestPortTick()}}else{o=function(){setTimeout(flush,0)}}n.runAfter=function(e){i.push(e);if(!r){r=true;o()}};return n}();var o=Function.call;function uncurryThis(e){return function(){return o.apply(e,arguments)}}var a=uncurryThis(Array.prototype.slice);var i=uncurryThis(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(arguments.length===1){do{if(r in this){t=this[r++];break}if(++r>=n){throw new TypeError}}while(1)}for(;r<n;r++){if(r in this){t=e(t,this[r],r)}}return t});var s=uncurryThis(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1});var l=uncurryThis(Array.prototype.map||function(e,t){var r=this;var n=[];i(r,(function(o,a,i){n.push(e.call(t,a,i,r))}),void 0);return n});var u=Object.create||function(e){function Type(){}Type.prototype=e;return new Type};var c=Object.defineProperty||function(e,t,r){e[t]=r.value;return e};var f=uncurryThis(Object.prototype.hasOwnProperty);var d=Object.keys||function(e){var t=[];for(var r in e){if(f(e,r)){t.push(r)}}return t};var p=uncurryThis(Object.prototype.toString);function isObject(e){return e===Object(e)}function isStopIteration(e){return p(e)==="[object StopIteration]"||e instanceof h}var h;if(typeof ReturnValue!=="undefined"){h=ReturnValue}else{h=function(e){this.value=e}}var m="From previous event:";function makeStackTraceLong(t,r){if(e&&r.stack&&typeof t==="object"&&t!==null&&t.stack){var n=[];for(var o=r;!!o;o=o.source){if(o.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>o.stackCounter)){c(t,"__minimumStackCounter__",{value:o.stackCounter,configurable:true});n.unshift(o.stack)}}n.unshift(t.stack);var a=n.join("\n"+m+"\n");var i=filterStackString(a);c(t,"stack",{value:i,configurable:true})}}function filterStackString(e){var t=e.split("\n");var r=[];for(var n=0;n<t.length;++n){var o=t[n];if(!isInternalFrame(o)&&!isNodeFrame(o)&&o){r.push(o)}}return r.join("\n")}function isNodeFrame(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function getFileNameAndLineNumber(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t){return[t[1],Number(t[2])]}var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r){return[r[1],Number(r[2])]}var n=/.*@(.+):(\d+)$/.exec(e);if(n){return[n[1],Number(n[2])]}}function isInternalFrame(e){var n=getFileNameAndLineNumber(e);if(!n){return false}var o=n[0];var a=n[1];return o===r&&a>=t&&a<=_}function captureLine(){if(!e){return}try{throw new Error}catch(e){var t=e.stack.split("\n");var n=t[0].indexOf("@")>0?t[1]:t[2];var o=getFileNameAndLineNumber(n);if(!o){return}r=o[0];return o[1]}}function deprecate(e,t,r){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack)}return e.apply(e,arguments)}}function Q(e){if(e instanceof Promise){return e}if(isPromiseAlike(e)){return coerce(e)}else{return fulfill(e)}}Q.resolve=Q;Q.nextTick=n;Q.longStackSupport=false;var b=1;if(typeof process==="object"&&process&&process.env&&process.env.Q_DEBUG){Q.longStackSupport=true}Q.defer=defer;function defer(){var t=[],r=[],n;var o=u(defer.prototype);var s=u(Promise.prototype);s.promiseDispatch=function(e,o,i){var s=a(arguments);if(t){t.push(s);if(o==="when"&&i[1]){r.push(i[1])}}else{Q.nextTick((function(){n.promiseDispatch.apply(n,s)}))}};s.valueOf=function(){if(t){return s}var e=nearer(n);if(isPromise(e)){n=e}return e};s.inspect=function(){if(!n){return{state:"pending"}}return n.inspect()};if(Q.longStackSupport&&e){try{throw new Error}catch(e){s.stack=e.stack.substring(e.stack.indexOf("\n")+1);s.stackCounter=b++}}function become(o){n=o;if(Q.longStackSupport&&e){s.source=o}i(t,(function(e,t){Q.nextTick((function(){o.promiseDispatch.apply(o,t)}))}),void 0);t=void 0;r=void 0}o.promise=s;o.resolve=function(e){if(n){return}become(Q(e))};o.fulfill=function(e){if(n){return}become(fulfill(e))};o.reject=function(e){if(n){return}become(reject(e))};o.notify=function(e){if(n){return}i(r,(function(t,r){Q.nextTick((function(){r(e)}))}),void 0)};return o}defer.prototype.makeNodeResolver=function(){var e=this;return function(t,r){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(a(arguments,1))}else{e.resolve(r)}}};Q.Promise=promise;Q.promise=promise;function promise(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function.")}var t=defer();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}promise.race=race;promise.all=all;promise.reject=reject;promise.resolve=Q;Q.passByCopy=function(e){return e};Promise.prototype.passByCopy=function(){return this};Q.join=function(e,t){return Q(e).join(t)};Promise.prototype.join=function(e){return Q([this,e]).spread((function(e,t){if(e===t){return e}else{throw new Error("Q can't join: not the same: "+e+" "+t)}}))};Q.race=race;function race(e){return promise((function(t,r){for(var n=0,o=e.length;n<o;n++){Q(e[n]).then(t,r)}}))}Promise.prototype.race=function(){return this.then(Q.race)};Q.makePromise=Promise;function Promise(e,t,r){if(t===void 0){t=function(e){return reject(new Error("Promise does not support operation: "+e))}}if(r===void 0){r=function(){return{state:"unknown"}}}var n=u(Promise.prototype);n.promiseDispatch=function(r,o,a){var i;try{if(e[o]){i=e[o].apply(n,a)}else{i=t.call(n,o,a)}}catch(e){i=reject(e)}if(r){r(i)}};n.inspect=r;if(r){var o=r();if(o.state==="rejected"){n.exception=o.reason}n.valueOf=function(){var e=r();if(e.state==="pending"||e.state==="rejected"){return n}return e.value}}return n}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.then=function(e,t,r){var n=this;var o=defer();var a=false;function _fulfilled(t){try{return typeof e==="function"?e(t):t}catch(e){return reject(e)}}function _rejected(e){if(typeof t==="function"){makeStackTraceLong(e,n);try{return t(e)}catch(e){return reject(e)}}return reject(e)}function _progressed(e){return typeof r==="function"?r(e):e}Q.nextTick((function(){n.promiseDispatch((function(e){if(a){return}a=true;o.resolve(_fulfilled(e))}),"when",[function(e){if(a){return}a=true;o.resolve(_rejected(e))}])}));n.promiseDispatch(void 0,"when",[void 0,function(e){var t;var r=false;try{t=_progressed(e)}catch(e){r=true;if(Q.onerror){Q.onerror(e)}else{throw e}}if(!r){o.notify(t)}}]);return o.promise};Q.tap=function(e,t){return Q(e).tap(t)};Promise.prototype.tap=function(e){e=Q(e);return this.then((function(t){return e.fcall(t).thenResolve(t)}))};Q.when=when;function when(e,t,r,n){return Q(e).then(t,r,n)}Promise.prototype.thenResolve=function(e){return this.then((function(){return e}))};Q.thenResolve=function(e,t){return Q(e).thenResolve(t)};Promise.prototype.thenReject=function(e){return this.then((function(){throw e}))};Q.thenReject=function(e,t){return Q(e).thenReject(t)};Q.nearer=nearer;function nearer(e){if(isPromise(e)){var t=e.inspect();if(t.state==="fulfilled"){return t.value}}return e}Q.isPromise=isPromise;function isPromise(e){return e instanceof Promise}Q.isPromiseAlike=isPromiseAlike;function isPromiseAlike(e){return isObject(e)&&typeof e.then==="function"}Q.isPending=isPending;function isPending(e){return isPromise(e)&&e.inspect().state==="pending"}Promise.prototype.isPending=function(){return this.inspect().state==="pending"};Q.isFulfilled=isFulfilled;function isFulfilled(e){return!isPromise(e)||e.inspect().state==="fulfilled"}Promise.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};Q.isRejected=isRejected;function isRejected(e){return isPromise(e)&&e.inspect().state==="rejected"}Promise.prototype.isRejected=function(){return this.inspect().state==="rejected"};var y=[];var S=[];var R=[];var g=true;function resetUnhandledRejections(){y.length=0;S.length=0;if(!g){g=true}}function trackRejection(e,t){if(!g){return}if(typeof process==="object"&&typeof process.emit==="function"){Q.nextTick.runAfter((function(){if(s(S,e)!==-1){process.emit("unhandledRejection",t,e);R.push(e)}}))}S.push(e);if(t&&typeof t.stack!=="undefined"){y.push(t.stack)}else{y.push("(no stack) "+t)}}function untrackRejection(e){if(!g){return}var t=s(S,e);if(t!==-1){if(typeof process==="object"&&typeof process.emit==="function"){Q.nextTick.runAfter((function(){var r=s(R,e);if(r!==-1){process.emit("rejectionHandled",y[t],e);R.splice(r,1)}}))}S.splice(t,1);y.splice(t,1)}}Q.resetUnhandledRejections=resetUnhandledRejections;Q.getUnhandledReasons=function(){return y.slice()};Q.stopUnhandledRejectionTracking=function(){resetUnhandledRejections();g=false};resetUnhandledRejections();Q.reject=reject;function reject(e){var t=Promise({when:function(t){if(t){untrackRejection(this)}return t?t(e):this}},(function fallback(){return this}),(function inspect(){return{state:"rejected",reason:e}}));trackRejection(t,e);return t}Q.fulfill=fulfill;function fulfill(e){return Promise({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){if(t===null||t===void 0){return e.apply(void 0,r)}else{return e[t].apply(e,r)}},apply:function(t,r){return e.apply(t,r)},keys:function(){return d(e)}},void 0,(function inspect(){return{state:"fulfilled",value:e}}))}function coerce(e){var t=defer();Q.nextTick((function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}));return t.promise}Q.master=master;function master(e){return Promise({isDef:function(){}},(function fallback(t,r){return dispatch(e,t,r)}),(function(){return Q(e).inspect()}))}Q.spread=spread;function spread(e,t,r){return Q(e).spread(t,r)}Promise.prototype.spread=function(e,t){return this.all().then((function(t){return e.apply(void 0,t)}),t)};Q.async=async;function async(e){return function(){function continuer(e,o){var a;if(typeof StopIteration==="undefined"){try{a=t[e](o)}catch(e){return reject(e)}if(a.done){return Q(a.value)}else{return when(a.value,r,n)}}else{try{a=t[e](o)}catch(e){if(isStopIteration(e)){return Q(e.value)}else{return reject(e)}}return when(a,r,n)}}var t=e.apply(this,arguments);var r=continuer.bind(continuer,"next");var n=continuer.bind(continuer,"throw");return r()}}Q.spawn=spawn;function spawn(e){Q.done(Q.async(e)())}Q["return"]=_return;function _return(e){throw new h(e)}Q.promised=promised;function promised(e){return function(){return spread([this,all(arguments)],(function(t,r){return e.apply(t,r)}))}}Q.dispatch=dispatch;function dispatch(e,t,r){return Q(e).dispatch(t,r)}Promise.prototype.dispatch=function(e,t){var r=this;var n=defer();Q.nextTick((function(){r.promiseDispatch(n.resolve,e,t)}));return n.promise};Q.get=function(e,t){return Q(e).dispatch("get",[t])};Promise.prototype.get=function(e){return this.dispatch("get",[e])};Q.set=function(e,t,r){return Q(e).dispatch("set",[t,r])};Promise.prototype.set=function(e,t){return this.dispatch("set",[e,t])};Q.del=Q["delete"]=function(e,t){return Q(e).dispatch("delete",[t])};Promise.prototype.del=Promise.prototype["delete"]=function(e){return this.dispatch("delete",[e])};Q.mapply=Q.post=function(e,t,r){return Q(e).dispatch("post",[t,r])};Promise.prototype.mapply=Promise.prototype.post=function(e,t){return this.dispatch("post",[e,t])};Q.send=Q.mcall=Q.invoke=function(e,t){return Q(e).dispatch("post",[t,a(arguments,2)])};Promise.prototype.send=Promise.prototype.mcall=Promise.prototype.invoke=function(e){return this.dispatch("post",[e,a(arguments,1)])};Q.fapply=function(e,t){return Q(e).dispatch("apply",[void 0,t])};Promise.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])};Q["try"]=Q.fcall=function(e){return Q(e).dispatch("apply",[void 0,a(arguments,1)])};Promise.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])};Q.fbind=function(e){var t=Q(e);var r=a(arguments,1);return function fbound(){return t.dispatch("apply",[this,r.concat(a(arguments))])}};Promise.prototype.fbind=function(){var e=this;var t=a(arguments);return function fbound(){return e.dispatch("apply",[this,t.concat(a(arguments))])}};Q.keys=function(e){return Q(e).dispatch("keys",[])};Promise.prototype.keys=function(){return this.dispatch("keys",[])};Q.all=all;function all(e){return when(e,(function(e){var t=0;var r=defer();i(e,(function(n,o,a){var i;if(isPromise(o)&&(i=o.inspect()).state==="fulfilled"){e[a]=i.value}else{++t;when(o,(function(n){e[a]=n;if(--t===0){r.resolve(e)}}),r.reject,(function(e){r.notify({index:a,value:e})}))}}),void 0);if(t===0){r.resolve(e)}return r.promise}))}Promise.prototype.all=function(){return all(this)};Q.any=any;function any(e){if(e.length===0){return Q.resolve()}var t=Q.defer();var r=0;i(e,(function(n,o,a){var i=e[a];r++;when(i,onFulfilled,onRejected,onProgress);function onFulfilled(e){t.resolve(e)}function onRejected(e){r--;if(r===0){var n=e||new Error(""+e);n.message="Q can't get fulfillment value from any promise, all "+"promises were rejected. Last error message: "+n.message;t.reject(n)}}function onProgress(e){t.notify({index:a,value:e})}}),undefined);return t.promise}Promise.prototype.any=function(){return any(this)};Q.allResolved=deprecate(allResolved,"allResolved","allSettled");function allResolved(e){return when(e,(function(e){e=l(e,Q);return when(all(l(e,(function(e){return when(e,noop,noop)}))),(function(){return e}))}))}Promise.prototype.allResolved=function(){return allResolved(this)};Q.allSettled=allSettled;function allSettled(e){return Q(e).allSettled()}Promise.prototype.allSettled=function(){return this.then((function(e){return all(l(e,(function(e){e=Q(e);function regardless(){return e.inspect()}return e.then(regardless,regardless)})))}))};Q.fail=Q["catch"]=function(e,t){return Q(e).then(void 0,t)};Promise.prototype.fail=Promise.prototype["catch"]=function(e){return this.then(void 0,e)};Q.progress=progress;function progress(e,t){return Q(e).then(void 0,void 0,t)}Promise.prototype.progress=function(e){return this.then(void 0,void 0,e)};Q.fin=Q["finally"]=function(e,t){return Q(e)["finally"](t)};Promise.prototype.fin=Promise.prototype["finally"]=function(e){if(!e||typeof e.apply!=="function"){throw new Error("Q can't apply finally callback")}e=Q(e);return this.then((function(t){return e.fcall().then((function(){return t}))}),(function(t){return e.fcall().then((function(){throw t}))}))};Q.done=function(e,t,r,n){return Q(e).done(t,r,n)};Promise.prototype.done=function(e,t,r){var onUnhandledError=function(e){Q.nextTick((function(){makeStackTraceLong(e,n);if(Q.onerror){Q.onerror(e)}else{throw e}}))};var n=e||t||r?this.then(e,t,r):this;if(typeof process==="object"&&process&&process.domain){onUnhandledError=process.domain.bind(onUnhandledError)}n.then(void 0,onUnhandledError)};Q.timeout=function(e,t,r){return Q(e).timeout(t,r)};Promise.prototype.timeout=function(e,t){var r=defer();var n=setTimeout((function(){if(!t||"string"===typeof t){t=new Error(t||"Timed out after "+e+" ms");t.code="ETIMEDOUT"}r.reject(t)}),e);this.then((function(e){clearTimeout(n);r.resolve(e)}),(function(e){clearTimeout(n);r.reject(e)}),r.notify);return r.promise};Q.delay=function(e,t){if(t===void 0){t=e;e=void 0}return Q(e).delay(t)};Promise.prototype.delay=function(e){return this.then((function(t){var r=defer();setTimeout((function(){r.resolve(t)}),e);return r.promise}))};Q.nfapply=function(e,t){return Q(e).nfapply(t)};Promise.prototype.nfapply=function(e){var t=defer();var r=a(e);r.push(t.makeNodeResolver());this.fapply(r).fail(t.reject);return t.promise};Q.nfcall=function(e){var t=a(arguments,1);return Q(e).nfapply(t)};Promise.prototype.nfcall=function(){var e=a(arguments);var t=defer();e.push(t.makeNodeResolver());this.fapply(e).fail(t.reject);return t.promise};Q.nfbind=Q.denodeify=function(e){if(e===undefined){throw new Error("Q can't wrap an undefined function")}var t=a(arguments,1);return function(){var r=t.concat(a(arguments));var n=defer();r.push(n.makeNodeResolver());Q(e).fapply(r).fail(n.reject);return n.promise}};Promise.prototype.nfbind=Promise.prototype.denodeify=function(){var e=a(arguments);e.unshift(this);return Q.denodeify.apply(void 0,e)};Q.nbind=function(e,t){var r=a(arguments,2);return function(){var n=r.concat(a(arguments));var o=defer();n.push(o.makeNodeResolver());function bound(){return e.apply(t,arguments)}Q(bound).fapply(n).fail(o.reject);return o.promise}};Promise.prototype.nbind=function(){var e=a(arguments,0);e.unshift(this);return Q.nbind.apply(void 0,e)};Q.nmapply=Q.npost=function(e,t,r){return Q(e).npost(t,r)};Promise.prototype.nmapply=Promise.prototype.npost=function(e,t){var r=a(t||[]);var n=defer();r.push(n.makeNodeResolver());this.dispatch("post",[e,r]).fail(n.reject);return n.promise};Q.nsend=Q.nmcall=Q.ninvoke=function(e,t){var r=a(arguments,2);var n=defer();r.push(n.makeNodeResolver());Q(e).dispatch("post",[t,r]).fail(n.reject);return n.promise};Promise.prototype.nsend=Promise.prototype.nmcall=Promise.prototype.ninvoke=function(e){var t=a(arguments,1);var r=defer();t.push(r.makeNodeResolver());this.dispatch("post",[e,t]).fail(r.reject);return r.promise};Q.nodeify=nodeify;function nodeify(e,t){return Q(e).nodeify(t)}Promise.prototype.nodeify=function(e){if(e){this.then((function(t){Q.nextTick((function(){e(null,t)}))}),(function(t){Q.nextTick((function(){e(t)}))}))}else{return this}};Q.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var _=captureLine();return Q}))},1532:(e,t,r)=>{const n=Symbol("SemVer ANY");class Comparator{static get ANY(){return n}constructor(e,t){t=o(t);if(e instanceof Comparator){if(e.loose===!!t.loose){return e}else{e=e.value}}l("comparator",e,t);this.options=t;this.loose=!!t.loose;this.parse(e);if(this.semver===n){this.value=""}else{this.value=this.operator+this.semver.version}l("comp",this)}parse(e){const t=this.options.loose?a[i.COMPARATORLOOSE]:a[i.COMPARATOR];const r=e.match(t);if(!r){throw new TypeError(`Invalid comparator: ${e}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=n}else{this.semver=new u(r[2],this.options.loose)}}toString(){return this.value}test(e){l("Comparator.test",e,this.options.loose);if(this.semver===n||e===n){return true}if(typeof e==="string"){try{e=new u(e,this.options)}catch(e){return false}}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!t||typeof t!=="object"){t={loose:!!t,includePrerelease:false}}if(this.operator===""){if(this.value===""){return true}return new c(e.value,t).test(this.value)}else if(e.operator===""){if(e.value===""){return true}return new c(this.value,t).test(e.semver)}const r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">");const n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<");const o=this.semver.version===e.semver.version;const a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<=");const i=s(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<");const l=s(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||n||o&&a||i||l}}e.exports=Comparator;const o=r(785);const{re:a,t:i}=r(9523);const s=r(5098);const l=r(427);const u=r(8088);const c=r(9828)},9828:(e,t,r)=>{class Range{constructor(e,t){t=a(t);if(e instanceof Range){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{return new Range(e.raw,t)}}if(e instanceof i){this.raw=e.value;this.set=[[e]];this.format();return this}this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;this.raw=e;this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${e}`)}if(this.set.length>1){const e=this.set[0];this.set=this.set.filter((e=>!isNullSet(e[0])));if(this.set.length===0)this.set=[e];else if(this.set.length>1){for(const e of this.set){if(e.length===1&&isAny(e[0])){this.set=[e];break}}}}this.format()}format(){this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=Object.keys(this.options).join(",");const r=`parseRange:${t}:${e}`;const n=o.get(r);if(n)return n;const a=this.options.loose;const l=a?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];e=e.replace(l,hyphenReplace(this.options.includePrerelease));s("hyphen replace",e);e=e.replace(u[c.COMPARATORTRIM],f);s("comparator trim",e,u[c.COMPARATORTRIM]);e=e.replace(u[c.TILDETRIM],d);e=e.replace(u[c.CARETTRIM],p);e=e.split(/\s+/).join(" ");const h=a?u[c.COMPARATORLOOSE]:u[c.COMPARATOR];const m=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options))).filter(this.options.loose?e=>!!e.match(h):()=>true).map((e=>new i(e,this.options)));const b=m.length;const y=new Map;for(const e of m){if(isNullSet(e))return[e];y.set(e.value,e)}if(y.size>1&&y.has(""))y.delete("");const S=[...y.values()];o.set(r,S);return S}intersects(e,t){if(!(e instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e){return false}if(typeof e==="string"){try{e=new l(e,this.options)}catch(e){return false}}for(let t=0;t<this.set.length;t++){if(testSet(this.set[t],e,this.options)){return true}}return false}}e.exports=Range;const n=r(7129);const o=new n({max:1e3});const a=r(785);const i=r(1532);const s=r(427);const l=r(8088);const{re:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:p}=r(9523);const isNullSet=e=>e.value==="<0.0.0-0";const isAny=e=>e.value==="";const isSatisfiable=(e,t)=>{let r=true;const n=e.slice();let o=n.pop();while(r&&n.length){r=n.every((e=>o.intersects(e,t)));o=n.pop()}return r};const parseComparator=(e,t)=>{s("comp",e,t);e=replaceCarets(e,t);s("caret",e);e=replaceTildes(e,t);s("tildes",e);e=replaceXRanges(e,t);s("xrange",e);e=replaceStars(e,t);s("stars",e);return e};const isX=e=>!e||e.toLowerCase()==="x"||e==="*";const replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" ");const replaceTilde=(e,t)=>{const r=t.loose?u[c.TILDELOOSE]:u[c.TILDE];return e.replace(r,((t,r,n,o,a)=>{s("tilde",e,t,r,n,o,a);let i;if(isX(r)){i=""}else if(isX(n)){i=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(o)){i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`}else if(a){s("replaceTilde pr",a);i=`>=${r}.${n}.${o}-${a} <${r}.${+n+1}.0-0`}else{i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`}s("tilde return",i);return i}))};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" ");const replaceCaret=(e,t)=>{s("caret",e,t);const r=t.loose?u[c.CARETLOOSE]:u[c.CARET];const n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,a,i)=>{s("caret",e,t,r,o,a,i);let l;if(isX(r)){l=""}else if(isX(o)){l=`>=${r}.0.0${n} <${+r+1}.0.0-0`}else if(isX(a)){if(r==="0"){l=`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`}else{l=`>=${r}.${o}.0${n} <${+r+1}.0.0-0`}}else if(i){s("replaceCaret pr",i);if(r==="0"){if(o==="0"){l=`>=${r}.${o}.${a}-${i} <${r}.${o}.${+a+1}-0`}else{l=`>=${r}.${o}.${a}-${i} <${r}.${+o+1}.0-0`}}else{l=`>=${r}.${o}.${a}-${i} <${+r+1}.0.0-0`}}else{s("no pr");if(r==="0"){if(o==="0"){l=`>=${r}.${o}.${a}${n} <${r}.${o}.${+a+1}-0`}else{l=`>=${r}.${o}.${a}${n} <${r}.${+o+1}.0-0`}}else{l=`>=${r}.${o}.${a} <${+r+1}.0.0-0`}}s("caret return",l);return l}))};const replaceXRanges=(e,t)=>{s("replaceXRanges",e,t);return e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return e.replace(r,((r,n,o,a,i,l)=>{s("xRange",e,r,n,o,a,i,l);const u=isX(o);const c=u||isX(a);const f=c||isX(i);const d=f;if(n==="="&&d){n=""}l=t.includePrerelease?"-0":"";if(u){if(n===">"||n==="<"){r="<0.0.0-0"}else{r="*"}}else if(n&&d){if(c){a=0}i=0;if(n===">"){n=">=";if(c){o=+o+1;a=0;i=0}else{a=+a+1;i=0}}else if(n==="<="){n="<";if(c){o=+o+1}else{a=+a+1}}if(n==="<")l="-0";r=`${n+o}.${a}.${i}${l}`}else if(c){r=`>=${o}.0.0${l} <${+o+1}.0.0-0`}else if(f){r=`>=${o}.${a}.0${l} <${o}.${+a+1}.0-0`}s("xRange return",r);return r}))};const replaceStars=(e,t)=>{s("replaceStars",e,t);return e.trim().replace(u[c.STAR],"")};const replaceGTE0=(e,t)=>{s("replaceGTE0",e,t);return e.trim().replace(u[t.includePrerelease?c.GTE0PRE:c.GTE0],"")};const hyphenReplace=e=>(t,r,n,o,a,i,s,l,u,c,f,d,p)=>{if(isX(n)){r=""}else if(isX(o)){r=`>=${n}.0.0${e?"-0":""}`}else if(isX(a)){r=`>=${n}.${o}.0${e?"-0":""}`}else if(i){r=`>=${r}`}else{r=`>=${r}${e?"-0":""}`}if(isX(u)){l=""}else if(isX(c)){l=`<${+u+1}.0.0-0`}else if(isX(f)){l=`<${u}.${+c+1}.0-0`}else if(d){l=`<=${u}.${c}.${f}-${d}`}else if(e){l=`<${u}.${c}.${+f+1}-0`}else{l=`<=${l}`}return`${r} ${l}`.trim()};const testSet=(e,t,r)=>{for(let r=0;r<e.length;r++){if(!e[r].test(t)){return false}}if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++){s(e[r].semver);if(e[r].semver===i.ANY){continue}if(e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch){return true}}}return false}return true}},8088:(e,t,r)=>{const n=r(427);const{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=r(2293);const{re:i,t:s}=r(9523);const l=r(785);const{compareIdentifiers:u}=r(2463);class SemVer{constructor(e,t){t=l(t);if(e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{e=e.version}}else if(typeof e!=="string"){throw new TypeError(`Invalid Version: ${e}`)}if(e.length>o){throw new TypeError(`version is longer than ${o} characters`)}n("SemVer",e,t);this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!r){throw new TypeError(`Invalid Version: ${e}`)}this.raw=e;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>a||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>a||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>a||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a){return t}}return e}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(e){n("SemVer.compare",this.version,this.options,e);if(!(e instanceof SemVer)){if(typeof e==="string"&&e===this.version){return 0}e=new SemVer(e,this.options)}if(e.version===this.version){return 0}return this.compareMain(e)||this.comparePre(e)}compareMain(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}return u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}if(this.prerelease.length&&!e.prerelease.length){return-1}else if(!this.prerelease.length&&e.prerelease.length){return 1}else if(!this.prerelease.length&&!e.prerelease.length){return 0}let t=0;do{const r=this.prerelease[t];const o=e.prerelease[t];n("prerelease compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}compareBuild(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}let t=0;do{const r=this.build[t];const o=e.build[t];n("prerelease compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t);this.inc("pre",t);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",t)}this.inc("pre",t);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let e=this.prerelease.length;while(--e>=0){if(typeof this.prerelease[e]==="number"){this.prerelease[e]++;e=-2}}if(e===-1){this.prerelease.push(0)}}if(t){if(this.prerelease[0]===t){if(isNaN(this.prerelease[1])){this.prerelease=[t,0]}}else{this.prerelease=[t,0]}}break;default:throw new Error(`invalid increment argument: ${e}`)}this.format();this.raw=this.version;return this}}e.exports=SemVer},8848:(e,t,r)=>{const n=r(5925);const clean=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=clean},5098:(e,t,r)=>{const n=r(1898);const o=r(6017);const a=r(4123);const i=r(5522);const s=r(194);const l=r(7520);const cmp=(e,t,r,u)=>{switch(t){case"===":if(typeof e==="object")e=e.version;if(typeof r==="object")r=r.version;return e===r;case"!==":if(typeof e==="object")e=e.version;if(typeof r==="object")r=r.version;return e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return o(e,r,u);case">":return a(e,r,u);case">=":return i(e,r,u);case"<":return s(e,r,u);case"<=":return l(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}};e.exports=cmp},3466:(e,t,r)=>{const n=r(8088);const o=r(5925);const{re:a,t:i}=r(9523);const coerce=(e,t)=>{if(e instanceof n){return e}if(typeof e==="number"){e=String(e)}if(typeof e!=="string"){return null}t=t||{};let r=null;if(!t.rtl){r=e.match(a[i.COERCE])}else{let t;while((t=a[i.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length)){if(!r||t.index+t[0].length!==r.index+r[0].length){r=t}a[i.COERCERTL].lastIndex=t.index+t[1].length+t[2].length}a[i.COERCERTL].lastIndex=-1}if(r===null)return null;return o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};e.exports=coerce},2156:(e,t,r)=>{const n=r(8088);const compareBuild=(e,t,r)=>{const o=new n(e,r);const a=new n(t,r);return o.compare(a)||o.compareBuild(a)};e.exports=compareBuild},2804:(e,t,r)=>{const n=r(4309);const compareLoose=(e,t)=>n(e,t,true);e.exports=compareLoose},4309:(e,t,r)=>{const n=r(8088);const compare=(e,t,r)=>new n(e,r).compare(new n(t,r));e.exports=compare},4297:(e,t,r)=>{const n=r(5925);const o=r(1898);const diff=(e,t)=>{if(o(e,t)){return null}else{const r=n(e);const o=n(t);const a=r.prerelease.length||o.prerelease.length;const i=a?"pre":"";const s=a?"prerelease":"";for(const e in r){if(e==="major"||e==="minor"||e==="patch"){if(r[e]!==o[e]){return i+e}}}return s}};e.exports=diff},1898:(e,t,r)=>{const n=r(4309);const eq=(e,t,r)=>n(e,t,r)===0;e.exports=eq},4123:(e,t,r)=>{const n=r(4309);const gt=(e,t,r)=>n(e,t,r)>0;e.exports=gt},5522:(e,t,r)=>{const n=r(4309);const gte=(e,t,r)=>n(e,t,r)>=0;e.exports=gte},900:(e,t,r)=>{const n=r(8088);const inc=(e,t,r,o)=>{if(typeof r==="string"){o=r;r=undefined}try{return new n(e,r).inc(t,o).version}catch(e){return null}};e.exports=inc},194:(e,t,r)=>{const n=r(4309);const lt=(e,t,r)=>n(e,t,r)<0;e.exports=lt},7520:(e,t,r)=>{const n=r(4309);const lte=(e,t,r)=>n(e,t,r)<=0;e.exports=lte},6688:(e,t,r)=>{const n=r(8088);const major=(e,t)=>new n(e,t).major;e.exports=major},8447:(e,t,r)=>{const n=r(8088);const minor=(e,t)=>new n(e,t).minor;e.exports=minor},6017:(e,t,r)=>{const n=r(4309);const neq=(e,t,r)=>n(e,t,r)!==0;e.exports=neq},5925:(e,t,r)=>{const{MAX_LENGTH:n}=r(2293);const{re:o,t:a}=r(9523);const i=r(8088);const s=r(785);const parse=(e,t)=>{t=s(t);if(e instanceof i){return e}if(typeof e!=="string"){return null}if(e.length>n){return null}const r=t.loose?o[a.LOOSE]:o[a.FULL];if(!r.test(e)){return null}try{return new i(e,t)}catch(e){return null}};e.exports=parse},2866:(e,t,r)=>{const n=r(8088);const patch=(e,t)=>new n(e,t).patch;e.exports=patch},4016:(e,t,r)=>{const n=r(5925);const prerelease=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=prerelease},6417:(e,t,r)=>{const n=r(4309);const rcompare=(e,t,r)=>n(t,e,r);e.exports=rcompare},8701:(e,t,r)=>{const n=r(2156);const rsort=(e,t)=>e.sort(((e,r)=>n(r,e,t)));e.exports=rsort},6055:(e,t,r)=>{const n=r(9828);const satisfies=(e,t,r)=>{try{t=new n(t,r)}catch(e){return false}return t.test(e)};e.exports=satisfies},1426:(e,t,r)=>{const n=r(2156);const sort=(e,t)=>e.sort(((e,r)=>n(e,r,t)));e.exports=sort},9601:(e,t,r)=>{const n=r(5925);const valid=(e,t)=>{const r=n(e,t);return r?r.version:null};e.exports=valid},1383:(e,t,r)=>{const n=r(9523);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(2293).SEMVER_SPEC_VERSION,SemVer:r(8088),compareIdentifiers:r(2463).compareIdentifiers,rcompareIdentifiers:r(2463).rcompareIdentifiers,parse:r(5925),valid:r(9601),clean:r(8848),inc:r(900),diff:r(4297),major:r(6688),minor:r(8447),patch:r(2866),prerelease:r(4016),compare:r(4309),rcompare:r(6417),compareLoose:r(2804),compareBuild:r(2156),sort:r(1426),rsort:r(8701),gt:r(4123),lt:r(194),eq:r(1898),neq:r(6017),gte:r(5522),lte:r(7520),cmp:r(5098),coerce:r(3466),Comparator:r(1532),Range:r(9828),satisfies:r(6055),toComparators:r(2706),maxSatisfying:r(579),minSatisfying:r(832),minVersion:r(4179),validRange:r(2098),outside:r(420),gtr:r(9380),ltr:r(3323),intersects:r(7008),simplifyRange:r(5297),subset:r(7863)}},2293:e=>{const t="2.0.0";const r=256;const n=Number.MAX_SAFE_INTEGER||9007199254740991;const o=16;e.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:r,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:o}},427:e=>{const t=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},2463:e=>{const t=/^[0-9]+$/;const compareIdentifiers=(e,r)=>{const n=t.test(e);const o=t.test(r);if(n&&o){e=+e;r=+r}return e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);e.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},785:e=>{const t=["includePrerelease","loose","rtl"];const parseOptions=e=>!e?{}:typeof e!=="object"?{loose:true}:t.filter((t=>e[t])).reduce(((e,t)=>{e[t]=true;return e}),{});e.exports=parseOptions},9523:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(2293);const o=r(427);t=e.exports={};const a=t.re=[];const i=t.src=[];const s=t.t={};let l=0;const createToken=(e,t,r)=>{const n=l++;o(n,t);s[e]=n;i[n]=t;a[n]=new RegExp(t,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${i[s.NUMERICIDENTIFIER]})\\.`+`(${i[s.NUMERICIDENTIFIER]})\\.`+`(${i[s.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.`+`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.`+`(${i[s.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${i[s.NUMERICIDENTIFIER]}|${i[s.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${i[s.NUMERICIDENTIFIERLOOSE]}|${i[s.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${i[s.PRERELEASEIDENTIFIER]}(?:\\.${i[s.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${i[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[s.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${i[s.BUILDIDENTIFIER]}(?:\\.${i[s.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${i[s.MAINVERSION]}${i[s.PRERELEASE]}?${i[s.BUILD]}?`);createToken("FULL",`^${i[s.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${i[s.MAINVERSIONLOOSE]}${i[s.PRERELEASELOOSE]}?${i[s.BUILD]}?`);createToken("LOOSE",`^${i[s.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${i[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${i[s.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${i[s.XRANGEIDENTIFIER]})`+`(?:\\.(${i[s.XRANGEIDENTIFIER]})`+`(?:\\.(${i[s.XRANGEIDENTIFIER]})`+`(?:${i[s.PRERELEASE]})?${i[s.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${i[s.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})`+`(?:${i[s.PRERELEASELOOSE]})?${i[s.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",i[s.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${i[s.LONETILDE]}\\s+`,true);t.tildeTrimReplace="$1~";createToken("TILDE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${i[s.LONECARET]}\\s+`,true);t.caretTrimReplace="$1^";createToken("CARET",`^${i[s.LONECARET]}${i[s.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${i[s.LONECARET]}${i[s.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${i[s.GTLT]}\\s*(${i[s.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]}|${i[s.XRANGEPLAIN]})`,true);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${i[s.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${i[s.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${i[s.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${i[s.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0.0.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},9380:(e,t,r)=>{const n=r(420);const gtr=(e,t,r)=>n(e,t,">",r);e.exports=gtr},7008:(e,t,r)=>{const n=r(9828);const intersects=(e,t,r)=>{e=new n(e,r);t=new n(t,r);return e.intersects(t)};e.exports=intersects},3323:(e,t,r)=>{const n=r(420);const ltr=(e,t,r)=>n(e,t,"<",r);e.exports=ltr},579:(e,t,r)=>{const n=r(8088);const o=r(9828);const maxSatisfying=(e,t,r)=>{let a=null;let i=null;let s=null;try{s=new o(t,r)}catch(e){return null}e.forEach((e=>{if(s.test(e)){if(!a||i.compare(e)===-1){a=e;i=new n(a,r)}}}));return a};e.exports=maxSatisfying},832:(e,t,r)=>{const n=r(8088);const o=r(9828);const minSatisfying=(e,t,r)=>{let a=null;let i=null;let s=null;try{s=new o(t,r)}catch(e){return null}e.forEach((e=>{if(s.test(e)){if(!a||i.compare(e)===1){a=e;i=new n(a,r)}}}));return a};e.exports=minSatisfying},4179:(e,t,r)=>{const n=r(8088);const o=r(9828);const a=r(4123);const minVersion=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r)){return r}r=new n("0.0.0-0");if(e.test(r)){return r}r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":if(t.prerelease.length===0){t.patch++}else{t.prerelease.push(0)}t.raw=t.format();case"":case">=":if(!i||a(t,i)){i=t}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}));if(i&&(!r||a(r,i)))r=i}if(r&&e.test(r)){return r}return null};e.exports=minVersion},420:(e,t,r)=>{const n=r(8088);const o=r(1532);const{ANY:a}=o;const i=r(9828);const s=r(6055);const l=r(4123);const u=r(194);const c=r(7520);const f=r(5522);const outside=(e,t,r,d)=>{e=new n(e,d);t=new i(t,d);let p,h,m,b,y;switch(r){case">":p=l;h=c;m=u;b=">";y=">=";break;case"<":p=u;h=f;m=l;b="<";y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d)){return false}for(let r=0;r<t.set.length;++r){const n=t.set[r];let i=null;let s=null;n.forEach((e=>{if(e.semver===a){e=new o(">=0.0.0")}i=i||e;s=s||e;if(p(e.semver,i.semver,d)){i=e}else if(m(e.semver,s.semver,d)){s=e}}));if(i.operator===b||i.operator===y){return false}if((!s.operator||s.operator===b)&&h(e,s.semver)){return false}else if(s.operator===y&&m(e,s.semver)){return false}}return true};e.exports=outside},5297:(e,t,r)=>{const n=r(6055);const o=r(4309);e.exports=(e,t,r)=>{const a=[];let i=null;let s=null;const l=e.sort(((e,t)=>o(e,t,r)));for(const e of l){const o=n(e,t,r);if(o){s=e;if(!i)i=e}else{if(s){a.push([i,s])}s=null;i=null}}if(i)a.push([i,null]);const u=[];for(const[e,t]of a){if(e===t)u.push(e);else if(!t&&e===l[0])u.push("*");else if(!t)u.push(`>=${e}`);else if(e===l[0])u.push(`<=${t}`);else u.push(`${e} - ${t}`)}const c=u.join(" || ");const f=typeof t.raw==="string"?t.raw:String(t);return c.length<f.length?c:t}},7863:(e,t,r)=>{const n=r(9828);const o=r(1532);const{ANY:a}=o;const i=r(6055);const s=r(4309);const subset=(e,t,r={})=>{if(e===t)return true;e=new n(e,r);t=new n(t,r);let o=false;e:for(const n of e.set){for(const e of t.set){const t=simpleSubset(n,e,r);o=o||t!==null;if(t)continue e}if(o)return false}return true};const simpleSubset=(e,t,r)=>{if(e===t)return true;if(e.length===1&&e[0].semver===a){if(t.length===1&&t[0].semver===a)return true;else if(r.includePrerelease)e=[new o(">=0.0.0-0")];else e=[new o(">=0.0.0")]}if(t.length===1&&t[0].semver===a){if(r.includePrerelease)return true;else t=[new o(">=0.0.0")]}const n=new Set;let l,u;for(const t of e){if(t.operator===">"||t.operator===">=")l=higherGT(l,t,r);else if(t.operator==="<"||t.operator==="<=")u=lowerLT(u,t,r);else n.add(t.semver)}if(n.size>1)return null;let c;if(l&&u){c=s(l.semver,u.semver,r);if(c>0)return null;else if(c===0&&(l.operator!==">="||u.operator!=="<="))return null}for(const e of n){if(l&&!i(e,String(l),r))return null;if(u&&!i(e,String(u),r))return null;for(const n of t){if(!i(e,String(n),r))return false}return true}let f,d;let p,h;let m=u&&!r.includePrerelease&&u.semver.prerelease.length?u.semver:false;let b=l&&!r.includePrerelease&&l.semver.prerelease.length?l.semver:false;if(m&&m.prerelease.length===1&&u.operator==="<"&&m.prerelease[0]===0){m=false}for(const e of t){h=h||e.operator===">"||e.operator===">=";p=p||e.operator==="<"||e.operator==="<=";if(l){if(b){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch){b=false}}if(e.operator===">"||e.operator===">="){f=higherGT(l,e,r);if(f===e&&f!==l)return false}else if(l.operator===">="&&!i(l.semver,String(e),r))return false}if(u){if(m){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch){m=false}}if(e.operator==="<"||e.operator==="<="){d=lowerLT(u,e,r);if(d===e&&d!==u)return false}else if(u.operator==="<="&&!i(u.semver,String(e),r))return false}if(!e.operator&&(u||l)&&c!==0)return false}if(l&&p&&!u&&c!==0)return false;if(u&&h&&!l&&c!==0)return false;if(b||m)return false;return true};const higherGT=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0?t:t.operator===">"&&e.operator===">="?t:e};const lowerLT=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0?t:t.operator==="<"&&e.operator==="<="?t:e};e.exports=subset},2706:(e,t,r)=>{const n=r(9828);const toComparators=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));e.exports=toComparators},2098:(e,t,r)=>{const n=r(9828);const validRange=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}};e.exports=validRange},7093:e=>{e.exports=function(){var e=new Chain;return e.__init.apply(e,arguments)};function Chain(){this.queue=[];this.onend=function(e){};this.pass=true}Chain.prototype.__init=function(){this.queue=[].slice.call(arguments);return this};Chain.prototype.add=function(){var e=[].slice.call(arguments);e.forEach(function(e){this.queue.push.apply(this.queue,Array.isArray(e)?e:[e])}.bind(this));return this};Chain.prototype.next=function(){if(!this.pass)return this;if(this.queue.length){this.queue.shift().call()}else{this.onend()}return this};Chain.prototype.stop=function(){this.pass=false;this.onend.apply(this,arguments);return this};Chain.prototype.traverse=function(e){e&&e.call&&e.apply&&(this.onend=e);this.next();return this}},4294:(e,t,r)=>{e.exports=r(4219)},4219:(e,t,r)=>{"use strict";var n=r(1631);var o=r(8818);var a=r(8605);var i=r(7211);var s=r(8614);var l=r(2357);var u=r(1669);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=a.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=a.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=i.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=i.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||a.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,r,n,o){var a=toOptions(r,n,o);for(var i=0,s=t.requests.length;i<s;++i){var l=t.requests[i];if(l.host===a.host&&l.port===a.port){t.requests.splice(i,1);l.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}u.inherits(TunnelingAgent,s.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,n){var o=this;var a=mergeOptions({request:e},o.options,toOptions(t,r,n));if(o.sockets.length>=this.maxSockets){o.requests.push(a);return}o.createSocket(a,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){o.emit("free",t,a)}function onCloseOrRemove(e){o.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var n={};r.sockets.push(n);var o=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){o.localAddress=e.localAddress}if(o.proxyAuth){o.headers=o.headers||{};o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")}c("making CONNECT request");var a=r.request(o);a.useChunkedEncodingByDefault=false;a.once("response",onResponse);a.once("upgrade",onUpgrade);a.once("connect",onConnect);a.once("error",onError);a.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick((function(){onConnect(e,t,r)}))}function onConnect(o,i,s){a.removeAllListeners();i.removeAllListeners();if(o.statusCode!==200){c("tunneling socket could not be established, statusCode=%d",o.statusCode);i.destroy();var l=new Error("tunneling socket could not be established, "+"statusCode="+o.statusCode);l.code="ECONNRESET";e.request.emit("error",l);r.removeSocket(n);return}if(s.length>0){c("got illegal response body from proxy");i.destroy();var l=new Error("got illegal response body from proxy");l.code="ECONNRESET";e.request.emit("error",l);r.removeSocket(n);return}c("tunneling connection has established");r.sockets[r.sockets.indexOf(n)]=i;return t(i)}function onError(t){a.removeAllListeners();c("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var o=new Error("tunneling socket could not be established, "+"cause="+t.message);o.code="ECONNRESET";e.request.emit("error",o);r.removeSocket(n)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,(function(e){r.request.onSocket(e)}))}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,(function(n){var a=e.request.getHeader("host");var i=mergeOptions({},r.options,{socket:n,servername:a?a.replace(/:.*$/,""):e.host});var s=o.connect(0,i);r.sockets[r.sockets.indexOf(n)]=s;t(s)}))}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n==="object"){var o=Object.keys(n);for(var a=0,i=o.length;a<i;++a){var s=o[a];if(n[s]!==undefined){e[s]=n[s]}}}}return e}var c;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){c=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{c=function(){}}t.debug=c},1452:function(e,t){(function(e,r){true?r(t):0})(this,(function(e){"use strict";const t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:e=>`Symbol(${e})`;function noop(){return undefined}function getGlobals(){if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else if(typeof global!=="undefined"){return global}return undefined}const r=getGlobals();function typeIsObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}const n=noop;const o=Promise;const a=Promise.prototype.then;const i=Promise.resolve.bind(o);const s=Promise.reject.bind(o);function newPromise(e){return new o(e)}function promiseResolvedWith(e){return i(e)}function promiseRejectedWith(e){return s(e)}function PerformPromiseThen(e,t,r){return a.call(e,t,r)}function uponPromise(e,t,r){PerformPromiseThen(PerformPromiseThen(e,t,r),undefined,n)}function uponFulfillment(e,t){uponPromise(e,t)}function uponRejection(e,t){uponPromise(e,undefined,t)}function transformPromiseWith(e,t,r){return PerformPromiseThen(e,t,r)}function setPromiseIsHandledToTrue(e){PerformPromiseThen(e,undefined,n)}const l=(()=>{const e=r&&r.queueMicrotask;if(typeof e==="function"){return e}const t=promiseResolvedWith(undefined);return e=>PerformPromiseThen(t,e)})();function reflectCall(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}function promiseCall(e,t,r){try{return promiseResolvedWith(reflectCall(e,t,r))}catch(e){return promiseRejectedWith(e)}}const u=16384;class SimpleQueue{constructor(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;if(t._elements.length===u-1){r={_elements:[],_next:undefined}}t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements;const a=o[r];if(n===u){t=e._next;n=0}--this._size;this._cursor=n;if(e!==t){this._front=t}o[r]=undefined;return a}forEach(e){let t=this._cursor;let r=this._front;let n=r._elements;while(t!==n.length||r._next!==undefined){if(t===n.length){r=r._next;n=r._elements;t=0;if(n.length===0){break}}e(n[t]);++t}}peek(){const e=this._front;const t=this._cursor;return e._elements[t]}}function ReadableStreamReaderGenericInitialize(e,t){e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){defaultReaderClosedPromiseInitialize(e)}else if(t._state==="closed"){defaultReaderClosedPromiseInitializeAsResolved(e)}else{defaultReaderClosedPromiseInitializeAsRejected(e,t._storedError)}}function ReadableStreamReaderGenericCancel(e,t){const r=e._ownerReadableStream;return ReadableStreamCancel(r,t)}function ReadableStreamReaderGenericRelease(e){if(e._ownerReadableStream._state==="readable"){defaultReaderClosedPromiseReject(e,new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`))}else{defaultReaderClosedPromiseResetToRejected(e,new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function readerLockException(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(e){e._closedPromise=newPromise(((t,r)=>{e._closedPromise_resolve=t;e._closedPromise_reject=r}))}function defaultReaderClosedPromiseInitializeAsRejected(e,t){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseReject(e,t)}function defaultReaderClosedPromiseInitializeAsResolved(e){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseResolve(e)}function defaultReaderClosedPromiseReject(e,t){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function defaultReaderClosedPromiseResetToRejected(e,t){defaultReaderClosedPromiseInitializeAsRejected(e,t)}function defaultReaderClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}const c=t("[[AbortSteps]]");const f=t("[[ErrorSteps]]");const d=t("[[CancelSteps]]");const p=t("[[PullSteps]]");const h=Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)};const m=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function isDictionary(e){return typeof e==="object"||typeof e==="function"}function assertDictionary(e,t){if(e!==undefined&&!isDictionary(e)){throw new TypeError(`${t} is not an object.`)}}function assertFunction(e,t){if(typeof e!=="function"){throw new TypeError(`${t} is not a function.`)}}function isObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}function assertObject(e,t){if(!isObject(e)){throw new TypeError(`${t} is not an object.`)}}function assertRequiredArgument(e,t,r){if(e===undefined){throw new TypeError(`Parameter ${t} is required in '${r}'.`)}}function assertRequiredField(e,t,r){if(e===undefined){throw new TypeError(`${t} is required in '${r}'.`)}}function convertUnrestrictedDouble(e){return Number(e)}function censorNegativeZero(e){return e===0?0:e}function integerPart(e){return censorNegativeZero(m(e))}function convertUnsignedLongLongWithEnforceRange(e,t){const r=0;const n=Number.MAX_SAFE_INTEGER;let o=Number(e);o=censorNegativeZero(o);if(!h(o)){throw new TypeError(`${t} is not a finite number`)}o=integerPart(o);if(o<r||o>n){throw new TypeError(`${t} is outside the accepted range of ${r} to ${n}, inclusive`)}if(!h(o)||o===0){return 0}return o}function assertReadableStream(e,t){if(!IsReadableStream(e)){throw new TypeError(`${t} is not a ReadableStream.`)}}function AcquireReadableStreamDefaultReader(e){return new ReadableStreamDefaultReader(e)}function ReadableStreamAddReadRequest(e,t){e._reader._readRequests.push(t)}function ReadableStreamFulfillReadRequest(e,t,r){const n=e._reader;const o=n._readRequests.shift();if(r){o._closeSteps()}else{o._chunkSteps(t)}}function ReadableStreamGetNumReadRequests(e){return e._reader._readRequests.length}function ReadableStreamHasDefaultReader(e){const t=e._reader;if(t===undefined){return false}if(!IsReadableStreamDefaultReader(t)){return false}return true}class ReadableStreamDefaultReader{constructor(e){assertRequiredArgument(e,1,"ReadableStreamDefaultReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}ReadableStreamReaderGenericInitialize(this,e);this._readRequests=new SimpleQueue}get closed(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("closed"))}return this._closedPromise}cancel(e=undefined){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)}read(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("read"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}let e;let t;const r=newPromise(((r,n)=>{e=r;t=n}));const n={_chunkSteps:t=>e({value:t,done:false}),_closeSteps:()=>e({value:undefined,done:true}),_errorSteps:e=>t(e)};ReadableStreamDefaultReaderRead(this,n);return r}releaseLock(){if(!IsReadableStreamDefaultReader(this)){throw defaultReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)}}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamDefaultReader.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:true})}function IsReadableStreamDefaultReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return e instanceof ReadableStreamDefaultReader}function ReadableStreamDefaultReaderRead(e,t){const r=e._ownerReadableStream;r._disturbed=true;if(r._state==="closed"){t._closeSteps()}else if(r._state==="errored"){t._errorSteps(r._storedError)}else{r._readableStreamController[p](t)}}function defaultReaderBrandCheckException(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}const b=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ReadableStreamAsyncIteratorImpl{constructor(e,t){this._ongoingPromise=undefined;this._isFinished=false;this._reader=e;this._preventCancel=t}next(){const nextSteps=()=>this._nextSteps();this._ongoingPromise=this._ongoingPromise?transformPromiseWith(this._ongoingPromise,nextSteps,nextSteps):nextSteps();return this._ongoingPromise}return(e){const returnSteps=()=>this._returnSteps(e);return this._ongoingPromise?transformPromiseWith(this._ongoingPromise,returnSteps,returnSteps):returnSteps()}_nextSteps(){if(this._isFinished){return Promise.resolve({value:undefined,done:true})}const e=this._reader;if(e._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("iterate"))}let t;let r;const n=newPromise(((e,n)=>{t=e;r=n}));const o={_chunkSteps:e=>{this._ongoingPromise=undefined;l((()=>t({value:e,done:false})))},_closeSteps:()=>{this._ongoingPromise=undefined;this._isFinished=true;ReadableStreamReaderGenericRelease(e);t({value:undefined,done:true})},_errorSteps:t=>{this._ongoingPromise=undefined;this._isFinished=true;ReadableStreamReaderGenericRelease(e);r(t)}};ReadableStreamDefaultReaderRead(e,o);return n}_returnSteps(e){if(this._isFinished){return Promise.resolve({value:e,done:true})}this._isFinished=true;const t=this._reader;if(t._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("finish iterating"))}if(!this._preventCancel){const r=ReadableStreamReaderGenericCancel(t,e);ReadableStreamReaderGenericRelease(t);return transformPromiseWith(r,(()=>({value:e,done:true})))}ReadableStreamReaderGenericRelease(t);return promiseResolvedWith({value:e,done:true})}}const y={next(){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"))}return this._asyncIteratorImpl.next()},return(e){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("return"))}return this._asyncIteratorImpl.return(e)}};if(b!==undefined){Object.setPrototypeOf(y,b)}function AcquireReadableStreamAsyncIterator(e,t){const r=AcquireReadableStreamDefaultReader(e);const n=new ReadableStreamAsyncIteratorImpl(r,t);const o=Object.create(y);o._asyncIteratorImpl=n;return o}function IsReadableStreamAsyncIterator(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")){return false}try{return e._asyncIteratorImpl instanceof ReadableStreamAsyncIteratorImpl}catch(e){return false}}function streamAsyncIteratorBrandCheckException(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}const S=Number.isNaN||function(e){return e!==e};function CreateArrayFromList(e){return e.slice()}function CopyDataBlockBytes(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function TransferArrayBuffer(e){return e}function IsDetachedBuffer(e){return false}function ArrayBufferSlice(e,t,r){if(e.slice){return e.slice(t,r)}const n=r-t;const o=new ArrayBuffer(n);CopyDataBlockBytes(o,0,e,t,n);return o}function IsNonNegativeNumber(e){if(typeof e!=="number"){return false}if(S(e)){return false}if(e<0){return false}return true}function CloneAsUint8Array(e){const t=ArrayBufferSlice(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function DequeueValue(e){const t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value}function EnqueueValueWithSize(e,t,r){if(!IsNonNegativeNumber(r)||r===Infinity){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r}function PeekQueueValue(e){const t=e._queue.peek();return t.value}function ResetQueue(e){e._queue=new SimpleQueue;e._queueTotalSize=0}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("view")}return this._view}respond(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respond")}assertRequiredArgument(e,1,"respond");e=convertUnsignedLongLongWithEnforceRange(e,"First parameter");if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(IsDetachedBuffer(this._view.buffer));ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respondWithNewView")}assertRequiredArgument(e,1,"respondWithNewView");if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(IsDetachedBuffer(e.buffer));ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:true},respondWithNewView:{enumerable:true},view:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamBYOBRequest.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:true})}class ReadableByteStreamController{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("byobRequest")}return ReadableByteStreamControllerGetBYOBRequest(this)}get desiredSize(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("desiredSize")}return ReadableByteStreamControllerGetDesiredSize(this)}close(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("close")}if(this._closeRequested){throw new TypeError("The stream has already been closed; do not close it again!")}const e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`)}ReadableByteStreamControllerClose(this)}enqueue(e){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("enqueue")}assertRequiredArgument(e,1,"enqueue");if(!ArrayBuffer.isView(e)){throw new TypeError("chunk must be an array buffer view")}if(e.byteLength===0){throw new TypeError("chunk must have non-zero byteLength")}if(e.buffer.byteLength===0){throw new TypeError(`chunk's buffer must have non-zero byteLength`)}if(this._closeRequested){throw new TypeError("stream is closed or draining")}const t=this._controlledReadableByteStream._state;if(t!=="readable"){throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`)}ReadableByteStreamControllerEnqueue(this,e)}error(e=undefined){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("error")}ReadableByteStreamControllerError(this,e)}[d](e){ReadableByteStreamControllerClearPendingPullIntos(this);ResetQueue(this);const t=this._cancelAlgorithm(e);ReadableByteStreamControllerClearAlgorithms(this);return t}[p](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}const r=this._autoAllocateChunkSize;if(r!==undefined){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}ReadableStreamAddReadRequest(t,e);ReadableByteStreamControllerCallPullIfNeeded(this)}}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},byobRequest:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableByteStreamController.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:true})}function IsReadableByteStreamController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return e instanceof ReadableByteStreamController}function IsReadableStreamBYOBRequest(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return e instanceof ReadableStreamBYOBRequest}function ReadableByteStreamControllerCallPullIfNeeded(e){const t=ReadableByteStreamControllerShouldCallPull(e);if(!t){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;const r=e._pullAlgorithm();uponPromise(r,(()=>{e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableByteStreamControllerCallPullIfNeeded(e)}}),(t=>{ReadableByteStreamControllerError(e,t)}))}function ReadableByteStreamControllerClearPendingPullIntos(e){ReadableByteStreamControllerInvalidateBYOBRequest(e);e._pendingPullIntos=new SimpleQueue}function ReadableByteStreamControllerCommitPullIntoDescriptor(e,t){let r=false;if(e._state==="closed"){r=true}const n=ReadableByteStreamControllerConvertPullIntoDescriptor(t);if(t.readerType==="default"){ReadableStreamFulfillReadRequest(e,n,r)}else{ReadableStreamFulfillReadIntoRequest(e,n,r)}}function ReadableByteStreamControllerConvertPullIntoDescriptor(e){const t=e.bytesFilled;const r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ReadableByteStreamControllerEnqueueChunkToQueue(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,t){const r=t.elementSize;const n=t.bytesFilled-t.bytesFilled%r;const o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);const a=t.bytesFilled+o;const i=a-a%r;let s=o;let l=false;if(i>n){s=i-t.bytesFilled;l=true}const u=e._queue;while(s>0){const r=u.peek();const n=Math.min(s,r.byteLength);const o=t.byteOffset+t.bytesFilled;CopyDataBlockBytes(t.buffer,o,r.buffer,r.byteOffset,n);if(r.byteLength===n){u.shift()}else{r.byteOffset+=n;r.byteLength-=n}e._queueTotalSize-=n;ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,n,t);s-=n}return l}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,t,r){r.bytesFilled+=t}function ReadableByteStreamControllerHandleQueueDrain(e){if(e._queueTotalSize===0&&e._closeRequested){ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(e._controlledReadableByteStream)}else{ReadableByteStreamControllerCallPullIfNeeded(e)}}function ReadableByteStreamControllerInvalidateBYOBRequest(e){if(e._byobRequest===null){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=null;e._byobRequest=null}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}const t=e._pendingPullIntos.peek();if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,t)){ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,t)}}}function ReadableByteStreamControllerPullInto(e,t,r){const n=e._controlledReadableByteStream;let o=1;if(t.constructor!==DataView){o=t.constructor.BYTES_PER_ELEMENT}const a=t.constructor;const i=TransferArrayBuffer(t.buffer);const s={buffer:i,bufferByteLength:i.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(s);ReadableStreamAddReadIntoRequest(n,r);return}if(n._state==="closed"){const e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,s)){const t=ReadableByteStreamControllerConvertPullIntoDescriptor(s);ReadableByteStreamControllerHandleQueueDrain(e);r._chunkSteps(t);return}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,t);r._errorSteps(t);return}}e._pendingPullIntos.push(s);ReadableStreamAddReadIntoRequest(n,r);ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerRespondInClosedState(e,t){const r=e._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(r)){while(ReadableStreamGetNumReadIntoRequests(r)>0){const t=ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(r,t)}}}function ReadableByteStreamControllerRespondInReadableState(e,t,r){ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,t,r);if(r.bytesFilled<r.elementSize){return}ReadableByteStreamControllerShiftPendingPullInto(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled;const o=ArrayBufferSlice(r.buffer,t-n,t);ReadableByteStreamControllerEnqueueChunkToQueue(e,o,0,o.byteLength)}r.bytesFilled-=n;ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,r);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}function ReadableByteStreamControllerRespondInternal(e,t){const r=e._pendingPullIntos.peek();ReadableByteStreamControllerInvalidateBYOBRequest(e);const n=e._controlledReadableByteStream._state;if(n==="closed"){ReadableByteStreamControllerRespondInClosedState(e)}else{ReadableByteStreamControllerRespondInReadableState(e,t,r)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerShiftPendingPullInto(e){const t=e._pendingPullIntos.shift();return t}function ReadableByteStreamControllerShouldCallPull(e){const t=e._controlledReadableByteStream;if(t._state!=="readable"){return false}if(e._closeRequested){return false}if(!e._started){return false}if(ReadableStreamHasDefaultReader(t)&&ReadableStreamGetNumReadRequests(t)>0){return true}if(ReadableStreamHasBYOBReader(t)&&ReadableStreamGetNumReadIntoRequests(t)>0){return true}const r=ReadableByteStreamControllerGetDesiredSize(e);if(r>0){return true}return false}function ReadableByteStreamControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function ReadableByteStreamControllerClose(e){const t=e._controlledReadableByteStream;if(e._closeRequested||t._state!=="readable"){return}if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,t);throw t}}ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(t)}function ReadableByteStreamControllerEnqueue(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable"){return}const n=t.buffer;const o=t.byteOffset;const a=t.byteLength;const i=TransferArrayBuffer(n);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(IsDetachedBuffer(t.buffer));t.buffer=TransferArrayBuffer(t.buffer)}ReadableByteStreamControllerInvalidateBYOBRequest(e);if(ReadableStreamHasDefaultReader(r)){if(ReadableStreamGetNumReadRequests(r)===0){ReadableByteStreamControllerEnqueueChunkToQueue(e,i,o,a)}else{const e=new Uint8Array(i,o,a);ReadableStreamFulfillReadRequest(r,e,false)}}else if(ReadableStreamHasBYOBReader(r)){ReadableByteStreamControllerEnqueueChunkToQueue(e,i,o,a);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}else{ReadableByteStreamControllerEnqueueChunkToQueue(e,i,o,a)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerError(e,t){const r=e._controlledReadableByteStream;if(r._state!=="readable"){return}ReadableByteStreamControllerClearPendingPullIntos(e);ResetQueue(e);ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamError(r,t)}function ReadableByteStreamControllerGetBYOBRequest(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();const r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);const n=Object.create(ReadableStreamBYOBRequest.prototype);SetUpReadableStreamBYOBRequest(n,e,r);e._byobRequest=n}return e._byobRequest}function ReadableByteStreamControllerGetDesiredSize(e){const t=e._controlledReadableByteStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableByteStreamControllerRespond(e,t){const r=e._pendingPullIntos.peek();const n=e._controlledReadableByteStream._state;if(n==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}}else{if(t===0){throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream")}if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}}r.buffer=TransferArrayBuffer(r.buffer);ReadableByteStreamControllerRespondInternal(e,t)}function ReadableByteStreamControllerRespondWithNewView(e,t){const r=e._pendingPullIntos.peek();const n=e._controlledReadableByteStream._state;if(n==="closed"){if(t.byteLength!==0){throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}}else{if(t.byteLength===0){throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream")}}if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.bufferByteLength!==t.buffer.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}if(r.bytesFilled+t.byteLength>r.byteLength){throw new RangeError("The region specified by view is larger than byobRequest")}r.buffer=TransferArrayBuffer(t.buffer);ReadableByteStreamControllerRespondInternal(e,t.byteLength)}function SetUpReadableByteStreamController(e,t,r,n,o,a,i){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=null;t._queue=t._queueTotalSize=undefined;ResetQueue(t);t._closeRequested=false;t._started=false;t._strategyHWM=a;t._pullAlgorithm=n;t._cancelAlgorithm=o;t._autoAllocateChunkSize=i;t._pendingPullIntos=new SimpleQueue;e._readableStreamController=t;const s=r();uponPromise(promiseResolvedWith(s),(()=>{t._started=true;ReadableByteStreamControllerCallPullIfNeeded(t)}),(e=>{ReadableByteStreamControllerError(t,e)}))}function SetUpReadableByteStreamControllerFromUnderlyingSource(e,t,r){const n=Object.create(ReadableByteStreamController.prototype);let startAlgorithm=()=>undefined;let pullAlgorithm=()=>promiseResolvedWith(undefined);let cancelAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(n)}if(t.pull!==undefined){pullAlgorithm=()=>t.pull(n)}if(t.cancel!==undefined){cancelAlgorithm=e=>t.cancel(e)}const o=t.autoAllocateChunkSize;if(o===0){throw new TypeError("autoAllocateChunkSize must be greater than 0")}SetUpReadableByteStreamController(e,n,startAlgorithm,pullAlgorithm,cancelAlgorithm,r,o)}function SetUpReadableStreamBYOBRequest(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function byobRequestBrandCheckException(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function byteStreamControllerBrandCheckException(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function AcquireReadableStreamBYOBReader(e){return new ReadableStreamBYOBReader(e)}function ReadableStreamAddReadIntoRequest(e,t){e._reader._readIntoRequests.push(t)}function ReadableStreamFulfillReadIntoRequest(e,t,r){const n=e._reader;const o=n._readIntoRequests.shift();if(r){o._closeSteps(t)}else{o._chunkSteps(t)}}function ReadableStreamGetNumReadIntoRequests(e){return e._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(e){const t=e._reader;if(t===undefined){return false}if(!IsReadableStreamBYOBReader(t)){return false}return true}class ReadableStreamBYOBReader{constructor(e){assertRequiredArgument(e,1,"ReadableStreamBYOBReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}if(!IsReadableByteStreamController(e._readableStreamController)){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}ReadableStreamReaderGenericInitialize(this,e);this._readIntoRequests=new SimpleQueue}get closed(){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("closed"))}return this._closedPromise}cancel(e=undefined){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)}read(e){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("read"))}if(!ArrayBuffer.isView(e)){return promiseRejectedWith(new TypeError("view must be an array buffer view"))}if(e.byteLength===0){return promiseRejectedWith(new TypeError("view must have non-zero byteLength"))}if(e.buffer.byteLength===0){return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`))}if(IsDetachedBuffer(e.buffer));if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}let t;let r;const n=newPromise(((e,n)=>{t=e;r=n}));const o={_chunkSteps:e=>t({value:e,done:false}),_closeSteps:e=>t({value:e,done:true}),_errorSteps:e=>r(e)};ReadableStreamBYOBReaderRead(this,e,o);return n}releaseLock(){if(!IsReadableStreamBYOBReader(this)){throw byobReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)}}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamBYOBReader.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:true})}function IsReadableStreamBYOBReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return e instanceof ReadableStreamBYOBReader}function ReadableStreamBYOBReaderRead(e,t,r){const n=e._ownerReadableStream;n._disturbed=true;if(n._state==="errored"){r._errorSteps(n._storedError)}else{ReadableByteStreamControllerPullInto(n._readableStreamController,t,r)}}function byobReaderBrandCheckException(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ExtractHighWaterMark(e,t){const{highWaterMark:r}=e;if(r===undefined){return t}if(S(r)||r<0){throw new RangeError("Invalid highWaterMark")}return r}function ExtractSizeAlgorithm(e){const{size:t}=e;if(!t){return()=>1}return t}function convertQueuingStrategy(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.highWaterMark;const n=e===null||e===void 0?void 0:e.size;return{highWaterMark:r===undefined?undefined:convertUnrestrictedDouble(r),size:n===undefined?undefined:convertQueuingStrategySize(n,`${t} has member 'size' that`)}}function convertQueuingStrategySize(e,t){assertFunction(e,t);return t=>convertUnrestrictedDouble(e(t))}function convertUnderlyingSink(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.abort;const n=e===null||e===void 0?void 0:e.close;const o=e===null||e===void 0?void 0:e.start;const a=e===null||e===void 0?void 0:e.type;const i=e===null||e===void 0?void 0:e.write;return{abort:r===undefined?undefined:convertUnderlyingSinkAbortCallback(r,e,`${t} has member 'abort' that`),close:n===undefined?undefined:convertUnderlyingSinkCloseCallback(n,e,`${t} has member 'close' that`),start:o===undefined?undefined:convertUnderlyingSinkStartCallback(o,e,`${t} has member 'start' that`),write:i===undefined?undefined:convertUnderlyingSinkWriteCallback(i,e,`${t} has member 'write' that`),type:a}}function convertUnderlyingSinkAbortCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSinkCloseCallback(e,t,r){assertFunction(e,r);return()=>promiseCall(e,t,[])}function convertUnderlyingSinkStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertUnderlyingSinkWriteCallback(e,t,r){assertFunction(e,r);return(r,n)=>promiseCall(e,t,[r,n])}function assertWritableStream(e,t){if(!IsWritableStream(e)){throw new TypeError(`${t} is not a WritableStream.`)}}function isAbortSignal(e){if(typeof e!=="object"||e===null){return false}try{return typeof e.aborted==="boolean"}catch(e){return false}}const R=typeof AbortController==="function";function createAbortController(){if(R){return new AbortController}return undefined}class WritableStream{constructor(e={},t={}){if(e===undefined){e=null}else{assertObject(e,"First parameter")}const r=convertQueuingStrategy(t,"Second parameter");const n=convertUnderlyingSink(e,"First parameter");InitializeWritableStream(this);const o=n.type;if(o!==undefined){throw new RangeError("Invalid type is specified")}const a=ExtractSizeAlgorithm(r);const i=ExtractHighWaterMark(r,1);SetUpWritableStreamDefaultControllerFromUnderlyingSink(this,n,i,a)}get locked(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("locked")}return IsWritableStreamLocked(this)}abort(e=undefined){if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("abort"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer"))}return WritableStreamAbort(this,e)}close(){if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("close"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer"))}if(WritableStreamCloseQueuedOrInFlight(this)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamClose(this)}getWriter(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("getWriter")}return AcquireWritableStreamDefaultWriter(this)}}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:true},close:{enumerable:true},getWriter:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStream.prototype,t.toStringTag,{value:"WritableStream",configurable:true})}function AcquireWritableStreamDefaultWriter(e){return new WritableStreamDefaultWriter(e)}function CreateWritableStream(e,t,r,n,o=1,a=(()=>1)){const i=Object.create(WritableStream.prototype);InitializeWritableStream(i);const s=Object.create(WritableStreamDefaultController.prototype);SetUpWritableStreamDefaultController(i,s,e,t,r,n,o,a);return i}function InitializeWritableStream(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new SimpleQueue;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function IsWritableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return e instanceof WritableStream}function IsWritableStreamLocked(e){if(e._writer===undefined){return false}return true}function WritableStreamAbort(e,t){var r;if(e._state==="closed"||e._state==="errored"){return promiseResolvedWith(undefined)}e._writableStreamController._abortReason=t;(r=e._writableStreamController._abortController)===null||r===void 0?void 0:r.abort();const n=e._state;if(n==="closed"||n==="errored"){return promiseResolvedWith(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}let o=false;if(n==="erroring"){o=true;t=undefined}const a=newPromise(((r,n)=>{e._pendingAbortRequest={_promise:undefined,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));e._pendingAbortRequest._promise=a;if(!o){WritableStreamStartErroring(e,t)}return a}function WritableStreamClose(e){const t=e._state;if(t==="closed"||t==="errored"){return promiseRejectedWith(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`))}const r=newPromise(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n}));const n=e._writer;if(n!==undefined&&e._backpressure&&t==="writable"){defaultWriterReadyPromiseResolve(n)}WritableStreamDefaultControllerClose(e._writableStreamController);return r}function WritableStreamAddWriteRequest(e){const t=newPromise(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}));return t}function WritableStreamDealWithRejection(e,t){const r=e._state;if(r==="writable"){WritableStreamStartErroring(e,t);return}WritableStreamFinishErroring(e)}function WritableStreamStartErroring(e,t){const r=e._writableStreamController;e._state="erroring";e._storedError=t;const n=e._writer;if(n!==undefined){WritableStreamDefaultWriterEnsureReadyPromiseRejected(n,t)}if(!WritableStreamHasOperationMarkedInFlight(e)&&r._started){WritableStreamFinishErroring(e)}}function WritableStreamFinishErroring(e){e._state="errored";e._writableStreamController[f]();const t=e._storedError;e._writeRequests.forEach((e=>{e._reject(t)}));e._writeRequests=new SimpleQueue;if(e._pendingAbortRequest===undefined){WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}const r=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(r._wasAlreadyErroring){r._reject(t);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}const n=e._writableStreamController[c](r._reason);uponPromise(n,(()=>{r._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}),(t=>{r._reject(t);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}))}function WritableStreamFinishInFlightWrite(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function WritableStreamFinishInFlightWriteWithError(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;WritableStreamDealWithRejection(e,t)}function WritableStreamFinishInFlightClose(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;const t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";const r=e._writer;if(r!==undefined){defaultWriterClosedPromiseResolve(r)}}function WritableStreamFinishInFlightCloseWithError(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}WritableStreamDealWithRejection(e,t)}function WritableStreamCloseQueuedOrInFlight(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamHasOperationMarkedInFlight(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamMarkCloseRequestInFlight(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function WritableStreamMarkFirstWriteRequestInFlight(e){e._inFlightWriteRequest=e._writeRequests.shift()}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}const t=e._writer;if(t!==undefined){defaultWriterClosedPromiseReject(t,e._storedError)}}function WritableStreamUpdateBackpressure(e,t){const r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t){defaultWriterReadyPromiseReset(r)}else{defaultWriterReadyPromiseResolve(r)}}e._backpressure=t}class WritableStreamDefaultWriter{constructor(e){assertRequiredArgument(e,1,"WritableStreamDefaultWriter");assertWritableStream(e,"First parameter");if(IsWritableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;const t=e._state;if(t==="writable"){if(!WritableStreamCloseQueuedOrInFlight(e)&&e._backpressure){defaultWriterReadyPromiseInitialize(this)}else{defaultWriterReadyPromiseInitializeAsResolved(this)}defaultWriterClosedPromiseInitialize(this)}else if(t==="erroring"){defaultWriterReadyPromiseInitializeAsRejected(this,e._storedError);defaultWriterClosedPromiseInitialize(this)}else if(t==="closed"){defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitializeAsResolved(this)}else{const t=e._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,t);defaultWriterClosedPromiseInitializeAsRejected(this,t)}}get closed(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("closed"))}return this._closedPromise}get desiredSize(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("desiredSize")}if(this._ownerWritableStream===undefined){throw defaultWriterLockException("desiredSize")}return WritableStreamDefaultWriterGetDesiredSize(this)}get ready(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("ready"))}return this._readyPromise}abort(e=undefined){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("abort"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("abort"))}return WritableStreamDefaultWriterAbort(this,e)}close(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("close"))}const e=this._ownerWritableStream;if(e===undefined){return promiseRejectedWith(defaultWriterLockException("close"))}if(WritableStreamCloseQueuedOrInFlight(e)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamDefaultWriterClose(this)}releaseLock(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("releaseLock")}const e=this._ownerWritableStream;if(e===undefined){return}WritableStreamDefaultWriterRelease(this)}write(e=undefined){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("write"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("write to"))}return WritableStreamDefaultWriterWrite(this,e)}}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:true},close:{enumerable:true},releaseLock:{enumerable:true},write:{enumerable:true},closed:{enumerable:true},desiredSize:{enumerable:true},ready:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStreamDefaultWriter.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:true})}function IsWritableStreamDefaultWriter(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return e instanceof WritableStreamDefaultWriter}function WritableStreamDefaultWriterAbort(e,t){const r=e._ownerWritableStream;return WritableStreamAbort(r,t)}function WritableStreamDefaultWriterClose(e){const t=e._ownerWritableStream;return WritableStreamClose(t)}function WritableStreamDefaultWriterCloseWithErrorPropagation(e){const t=e._ownerWritableStream;const r=t._state;if(WritableStreamCloseQueuedOrInFlight(t)||r==="closed"){return promiseResolvedWith(undefined)}if(r==="errored"){return promiseRejectedWith(t._storedError)}return WritableStreamDefaultWriterClose(e)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,t){if(e._closedPromiseState==="pending"){defaultWriterClosedPromiseReject(e,t)}else{defaultWriterClosedPromiseResetToRejected(e,t)}}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,t){if(e._readyPromiseState==="pending"){defaultWriterReadyPromiseReject(e,t)}else{defaultWriterReadyPromiseResetToRejected(e,t)}}function WritableStreamDefaultWriterGetDesiredSize(e){const t=e._ownerWritableStream;const r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return WritableStreamDefaultControllerGetDesiredSize(t._writableStreamController)}function WritableStreamDefaultWriterRelease(e){const t=e._ownerWritableStream;const r=new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,r);WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function WritableStreamDefaultWriterWrite(e,t){const r=e._ownerWritableStream;const n=r._writableStreamController;const o=WritableStreamDefaultControllerGetChunkSize(n,t);if(r!==e._ownerWritableStream){return promiseRejectedWith(defaultWriterLockException("write to"))}const a=r._state;if(a==="errored"){return promiseRejectedWith(r._storedError)}if(WritableStreamCloseQueuedOrInFlight(r)||a==="closed"){return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"))}if(a==="erroring"){return promiseRejectedWith(r._storedError)}const i=WritableStreamAddWriteRequest(r);WritableStreamDefaultControllerWrite(n,t,o);return i}const g={};class WritableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("abortReason")}return this._abortReason}get signal(){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("signal")}if(this._abortController===undefined){throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported")}return this._abortController.signal}error(e=undefined){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("error")}const t=this._controlledWritableStream._state;if(t!=="writable"){return}WritableStreamDefaultControllerError(this,e)}[c](e){const t=this._abortAlgorithm(e);WritableStreamDefaultControllerClearAlgorithms(this);return t}[f](){ResetQueue(this)}}Object.defineProperties(WritableStreamDefaultController.prototype,{error:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStreamDefaultController.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:true})}function IsWritableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return e instanceof WritableStreamDefaultController}function SetUpWritableStreamDefaultController(e,t,r,n,o,a,i,s){t._controlledWritableStream=e;e._writableStreamController=t;t._queue=undefined;t._queueTotalSize=undefined;ResetQueue(t);t._abortReason=undefined;t._abortController=createAbortController();t._started=false;t._strategySizeAlgorithm=s;t._strategyHWM=i;t._writeAlgorithm=n;t._closeAlgorithm=o;t._abortAlgorithm=a;const l=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(e,l);const u=r();const c=promiseResolvedWith(u);uponPromise(c,(()=>{t._started=true;WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}),(r=>{t._started=true;WritableStreamDealWithRejection(e,r)}))}function SetUpWritableStreamDefaultControllerFromUnderlyingSink(e,t,r,n){const o=Object.create(WritableStreamDefaultController.prototype);let startAlgorithm=()=>undefined;let writeAlgorithm=()=>promiseResolvedWith(undefined);let closeAlgorithm=()=>promiseResolvedWith(undefined);let abortAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(o)}if(t.write!==undefined){writeAlgorithm=e=>t.write(e,o)}if(t.close!==undefined){closeAlgorithm=()=>t.close()}if(t.abort!==undefined){abortAlgorithm=e=>t.abort(e)}SetUpWritableStreamDefaultController(e,o,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,r,n)}function WritableStreamDefaultControllerClearAlgorithms(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function WritableStreamDefaultControllerClose(e){EnqueueValueWithSize(e,g,0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerGetChunkSize(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){WritableStreamDefaultControllerErrorIfNeeded(e,t);return 1}}function WritableStreamDefaultControllerGetDesiredSize(e){return e._strategyHWM-e._queueTotalSize}function WritableStreamDefaultControllerWrite(e,t,r){try{EnqueueValueWithSize(e,t,r)}catch(t){WritableStreamDefaultControllerErrorIfNeeded(e,t);return}const n=e._controlledWritableStream;if(!WritableStreamCloseQueuedOrInFlight(n)&&n._state==="writable"){const t=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(n,t)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(e){const t=e._controlledWritableStream;if(!e._started){return}if(t._inFlightWriteRequest!==undefined){return}const r=t._state;if(r==="erroring"){WritableStreamFinishErroring(t);return}if(e._queue.length===0){return}const n=PeekQueueValue(e);if(n===g){WritableStreamDefaultControllerProcessClose(e)}else{WritableStreamDefaultControllerProcessWrite(e,n)}}function WritableStreamDefaultControllerErrorIfNeeded(e,t){if(e._controlledWritableStream._state==="writable"){WritableStreamDefaultControllerError(e,t)}}function WritableStreamDefaultControllerProcessClose(e){const t=e._controlledWritableStream;WritableStreamMarkCloseRequestInFlight(t);DequeueValue(e);const r=e._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(e);uponPromise(r,(()=>{WritableStreamFinishInFlightClose(t)}),(e=>{WritableStreamFinishInFlightCloseWithError(t,e)}))}function WritableStreamDefaultControllerProcessWrite(e,t){const r=e._controlledWritableStream;WritableStreamMarkFirstWriteRequestInFlight(r);const n=e._writeAlgorithm(t);uponPromise(n,(()=>{WritableStreamFinishInFlightWrite(r);const t=r._state;DequeueValue(e);if(!WritableStreamCloseQueuedOrInFlight(r)&&t==="writable"){const t=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(r,t)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}),(t=>{if(r._state==="writable"){WritableStreamDefaultControllerClearAlgorithms(e)}WritableStreamFinishInFlightWriteWithError(r,t)}))}function WritableStreamDefaultControllerGetBackpressure(e){const t=WritableStreamDefaultControllerGetDesiredSize(e);return t<=0}function WritableStreamDefaultControllerError(e,t){const r=e._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(e);WritableStreamStartErroring(r,t)}function streamBrandCheckException$2(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function defaultControllerBrandCheckException$2(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function defaultWriterBrandCheckException(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function defaultWriterLockException(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(e){e._closedPromise=newPromise(((t,r)=>{e._closedPromise_resolve=t;e._closedPromise_reject=r;e._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(e,t){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseReject(e,t)}function defaultWriterClosedPromiseInitializeAsResolved(e){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseResolve(e)}function defaultWriterClosedPromiseReject(e,t){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function defaultWriterClosedPromiseResetToRejected(e,t){defaultWriterClosedPromiseInitializeAsRejected(e,t)}function defaultWriterClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(e){e._readyPromise=newPromise(((t,r)=>{e._readyPromise_resolve=t;e._readyPromise_reject=r}));e._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(e,t){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseReject(e,t)}function defaultWriterReadyPromiseInitializeAsResolved(e){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseResolve(e)}function defaultWriterReadyPromiseReject(e,t){if(e._readyPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._readyPromise);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function defaultWriterReadyPromiseReset(e){defaultWriterReadyPromiseInitialize(e)}function defaultWriterReadyPromiseResetToRejected(e,t){defaultWriterReadyPromiseInitializeAsRejected(e,t)}function defaultWriterReadyPromiseResolve(e){if(e._readyPromise_resolve===undefined){return}e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}const _=typeof DOMException!=="undefined"?DOMException:undefined;function isDOMExceptionConstructor(e){if(!(typeof e==="function"||typeof e==="object")){return false}try{new e;return true}catch(e){return false}}function createDOMExceptionPolyfill(){const e=function DOMException(e,t){this.message=e||"";this.name=t||"Error";if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}};e.prototype=Object.create(Error.prototype);Object.defineProperty(e.prototype,"constructor",{value:e,writable:true,configurable:true});return e}const v=isDOMExceptionConstructor(_)?_:createDOMExceptionPolyfill();function ReadableStreamPipeTo(e,t,r,n,o,a){const i=AcquireReadableStreamDefaultReader(e);const s=AcquireWritableStreamDefaultWriter(t);e._disturbed=true;let l=false;let u=promiseResolvedWith(undefined);return newPromise(((c,f)=>{let d;if(a!==undefined){d=()=>{const r=new v("Aborted","AbortError");const a=[];if(!n){a.push((()=>{if(t._state==="writable"){return WritableStreamAbort(t,r)}return promiseResolvedWith(undefined)}))}if(!o){a.push((()=>{if(e._state==="readable"){return ReadableStreamCancel(e,r)}return promiseResolvedWith(undefined)}))}shutdownWithAction((()=>Promise.all(a.map((e=>e())))),true,r)};if(a.aborted){d();return}a.addEventListener("abort",d)}function pipeLoop(){return newPromise(((e,t)=>{function next(r){if(r){e()}else{PerformPromiseThen(pipeStep(),next,t)}}next(false)}))}function pipeStep(){if(l){return promiseResolvedWith(true)}return PerformPromiseThen(s._readyPromise,(()=>newPromise(((e,t)=>{ReadableStreamDefaultReaderRead(i,{_chunkSteps:t=>{u=PerformPromiseThen(WritableStreamDefaultWriterWrite(s,t),undefined,noop);e(false)},_closeSteps:()=>e(true),_errorSteps:t})}))))}isOrBecomesErrored(e,i._closedPromise,(e=>{if(!n){shutdownWithAction((()=>WritableStreamAbort(t,e)),true,e)}else{shutdown(true,e)}}));isOrBecomesErrored(t,s._closedPromise,(t=>{if(!o){shutdownWithAction((()=>ReadableStreamCancel(e,t)),true,t)}else{shutdown(true,t)}}));isOrBecomesClosed(e,i._closedPromise,(()=>{if(!r){shutdownWithAction((()=>WritableStreamDefaultWriterCloseWithErrorPropagation(s)))}else{shutdown()}}));if(WritableStreamCloseQueuedOrInFlight(t)||t._state==="closed"){const t=new TypeError("the destination writable stream closed before all data could be piped to it");if(!o){shutdownWithAction((()=>ReadableStreamCancel(e,t)),true,t)}else{shutdown(true,t)}}setPromiseIsHandledToTrue(pipeLoop());function waitForWritesToFinish(){const e=u;return PerformPromiseThen(u,(()=>e!==u?waitForWritesToFinish():undefined))}function isOrBecomesErrored(e,t,r){if(e._state==="errored"){r(e._storedError)}else{uponRejection(t,r)}}function isOrBecomesClosed(e,t,r){if(e._state==="closed"){r()}else{uponFulfillment(t,r)}}function shutdownWithAction(e,r,n){if(l){return}l=true;if(t._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(t)){uponFulfillment(waitForWritesToFinish(),doTheRest)}else{doTheRest()}function doTheRest(){uponPromise(e(),(()=>finalize(r,n)),(e=>finalize(true,e)))}}function shutdown(e,r){if(l){return}l=true;if(t._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(t)){uponFulfillment(waitForWritesToFinish(),(()=>finalize(e,r)))}else{finalize(e,r)}}function finalize(e,t){WritableStreamDefaultWriterRelease(s);ReadableStreamReaderGenericRelease(i);if(a!==undefined){a.removeEventListener("abort",d)}if(e){f(t)}else{c(undefined)}}}))}class ReadableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("desiredSize")}return ReadableStreamDefaultControllerGetDesiredSize(this)}close(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("close")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits close")}ReadableStreamDefaultControllerClose(this)}enqueue(e=undefined){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("enqueue")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits enqueue")}return ReadableStreamDefaultControllerEnqueue(this,e)}error(e=undefined){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("error")}ReadableStreamDefaultControllerError(this,e)}[d](e){ResetQueue(this);const t=this._cancelAlgorithm(e);ReadableStreamDefaultControllerClearAlgorithms(this);return t}[p](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=DequeueValue(this);if(this._closeRequested&&this._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(t)}else{ReadableStreamDefaultControllerCallPullIfNeeded(this)}e._chunkSteps(r)}else{ReadableStreamAddReadRequest(t,e);ReadableStreamDefaultControllerCallPullIfNeeded(this)}}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamDefaultController.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:true})}function IsReadableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return e instanceof ReadableStreamDefaultController}function ReadableStreamDefaultControllerCallPullIfNeeded(e){const t=ReadableStreamDefaultControllerShouldCallPull(e);if(!t){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;const r=e._pullAlgorithm();uponPromise(r,(()=>{e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableStreamDefaultControllerCallPullIfNeeded(e)}}),(t=>{ReadableStreamDefaultControllerError(e,t)}))}function ReadableStreamDefaultControllerShouldCallPull(e){const t=e._controlledReadableStream;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return false}if(!e._started){return false}if(IsReadableStreamLocked(t)&&ReadableStreamGetNumReadRequests(t)>0){return true}const r=ReadableStreamDefaultControllerGetDesiredSize(e);if(r>0){return true}return false}function ReadableStreamDefaultControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function ReadableStreamDefaultControllerClose(e){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}const t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamClose(t)}}function ReadableStreamDefaultControllerEnqueue(e,t){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}const r=e._controlledReadableStream;if(IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0){ReadableStreamFulfillReadRequest(r,t,false)}else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){ReadableStreamDefaultControllerError(e,t);throw t}try{EnqueueValueWithSize(e,t,r)}catch(t){ReadableStreamDefaultControllerError(e,t);throw t}}ReadableStreamDefaultControllerCallPullIfNeeded(e)}function ReadableStreamDefaultControllerError(e,t){const r=e._controlledReadableStream;if(r._state!=="readable"){return}ResetQueue(e);ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamError(r,t)}function ReadableStreamDefaultControllerGetDesiredSize(e){const t=e._controlledReadableStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableStreamDefaultControllerHasBackpressure(e){if(ReadableStreamDefaultControllerShouldCallPull(e)){return false}return true}function ReadableStreamDefaultControllerCanCloseOrEnqueue(e){const t=e._controlledReadableStream._state;if(!e._closeRequested&&t==="readable"){return true}return false}function SetUpReadableStreamDefaultController(e,t,r,n,o,a,i){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;ResetQueue(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=i;t._strategyHWM=a;t._pullAlgorithm=n;t._cancelAlgorithm=o;e._readableStreamController=t;const s=r();uponPromise(promiseResolvedWith(s),(()=>{t._started=true;ReadableStreamDefaultControllerCallPullIfNeeded(t)}),(e=>{ReadableStreamDefaultControllerError(t,e)}))}function SetUpReadableStreamDefaultControllerFromUnderlyingSource(e,t,r,n){const o=Object.create(ReadableStreamDefaultController.prototype);let startAlgorithm=()=>undefined;let pullAlgorithm=()=>promiseResolvedWith(undefined);let cancelAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(o)}if(t.pull!==undefined){pullAlgorithm=()=>t.pull(o)}if(t.cancel!==undefined){cancelAlgorithm=e=>t.cancel(e)}SetUpReadableStreamDefaultController(e,o,startAlgorithm,pullAlgorithm,cancelAlgorithm,r,n)}function defaultControllerBrandCheckException$1(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ReadableStreamTee(e,t){if(IsReadableByteStreamController(e._readableStreamController)){return ReadableByteStreamTee(e)}return ReadableStreamDefaultTee(e)}function ReadableStreamDefaultTee(e,t){const r=AcquireReadableStreamDefaultReader(e);let n=false;let o=false;let a=false;let i;let s;let u;let c;let f;const d=newPromise((e=>{f=e}));function pullAlgorithm(){if(n){return promiseResolvedWith(undefined)}n=true;const e={_chunkSteps:e=>{l((()=>{n=false;const t=e;const r=e;if(!o){ReadableStreamDefaultControllerEnqueue(u._readableStreamController,t)}if(!a){ReadableStreamDefaultControllerEnqueue(c._readableStreamController,r)}}))},_closeSteps:()=>{n=false;if(!o){ReadableStreamDefaultControllerClose(u._readableStreamController)}if(!a){ReadableStreamDefaultControllerClose(c._readableStreamController)}if(!o||!a){f(undefined)}},_errorSteps:()=>{n=false}};ReadableStreamDefaultReaderRead(r,e);return promiseResolvedWith(undefined)}function cancel1Algorithm(t){o=true;i=t;if(a){const t=CreateArrayFromList([i,s]);const r=ReadableStreamCancel(e,t);f(r)}return d}function cancel2Algorithm(t){a=true;s=t;if(o){const t=CreateArrayFromList([i,s]);const r=ReadableStreamCancel(e,t);f(r)}return d}function startAlgorithm(){}u=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel1Algorithm);c=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel2Algorithm);uponRejection(r._closedPromise,(e=>{ReadableStreamDefaultControllerError(u._readableStreamController,e);ReadableStreamDefaultControllerError(c._readableStreamController,e);if(!o||!a){f(undefined)}}));return[u,c]}function ReadableByteStreamTee(e){let t=AcquireReadableStreamDefaultReader(e);let r=false;let n=false;let o=false;let a;let i;let s;let u;let c;const f=newPromise((e=>{c=e}));function forwardReaderError(e){uponRejection(e._closedPromise,(r=>{if(e!==t){return}ReadableByteStreamControllerError(s._readableStreamController,r);ReadableByteStreamControllerError(u._readableStreamController,r);if(!n||!o){c(undefined)}}))}function pullWithDefaultReader(){if(IsReadableStreamBYOBReader(t)){ReadableStreamReaderGenericRelease(t);t=AcquireReadableStreamDefaultReader(e);forwardReaderError(t)}const a={_chunkSteps:t=>{l((()=>{r=false;const a=t;let i=t;if(!n&&!o){try{i=CloneAsUint8Array(t)}catch(t){ReadableByteStreamControllerError(s._readableStreamController,t);ReadableByteStreamControllerError(u._readableStreamController,t);c(ReadableStreamCancel(e,t));return}}if(!n){ReadableByteStreamControllerEnqueue(s._readableStreamController,a)}if(!o){ReadableByteStreamControllerEnqueue(u._readableStreamController,i)}}))},_closeSteps:()=>{r=false;if(!n){ReadableByteStreamControllerClose(s._readableStreamController)}if(!o){ReadableByteStreamControllerClose(u._readableStreamController)}if(s._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(s._readableStreamController,0)}if(u._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(u._readableStreamController,0)}if(!n||!o){c(undefined)}},_errorSteps:()=>{r=false}};ReadableStreamDefaultReaderRead(t,a)}function pullWithBYOBReader(a,i){if(IsReadableStreamDefaultReader(t)){ReadableStreamReaderGenericRelease(t);t=AcquireReadableStreamBYOBReader(e);forwardReaderError(t)}const f=i?u:s;const d=i?s:u;const p={_chunkSteps:t=>{l((()=>{r=false;const a=i?o:n;const s=i?n:o;if(!s){let r;try{r=CloneAsUint8Array(t)}catch(t){ReadableByteStreamControllerError(f._readableStreamController,t);ReadableByteStreamControllerError(d._readableStreamController,t);c(ReadableStreamCancel(e,t));return}if(!a){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,t)}ReadableByteStreamControllerEnqueue(d._readableStreamController,r)}else if(!a){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,t)}}))},_closeSteps:e=>{r=false;const t=i?o:n;const a=i?n:o;if(!t){ReadableByteStreamControllerClose(f._readableStreamController)}if(!a){ReadableByteStreamControllerClose(d._readableStreamController)}if(e!==undefined){if(!t){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,e)}if(!a&&d._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(d._readableStreamController,0)}}if(!t||!a){c(undefined)}},_errorSteps:()=>{r=false}};ReadableStreamBYOBReaderRead(t,a,p)}function pull1Algorithm(){if(r){return promiseResolvedWith(undefined)}r=true;const e=ReadableByteStreamControllerGetBYOBRequest(s._readableStreamController);if(e===null){pullWithDefaultReader()}else{pullWithBYOBReader(e._view,false)}return promiseResolvedWith(undefined)}function pull2Algorithm(){if(r){return promiseResolvedWith(undefined)}r=true;const e=ReadableByteStreamControllerGetBYOBRequest(u._readableStreamController);if(e===null){pullWithDefaultReader()}else{pullWithBYOBReader(e._view,true)}return promiseResolvedWith(undefined)}function cancel1Algorithm(t){n=true;a=t;if(o){const t=CreateArrayFromList([a,i]);const r=ReadableStreamCancel(e,t);c(r)}return f}function cancel2Algorithm(t){o=true;i=t;if(n){const t=CreateArrayFromList([a,i]);const r=ReadableStreamCancel(e,t);c(r)}return f}function startAlgorithm(){return}s=CreateReadableByteStream(startAlgorithm,pull1Algorithm,cancel1Algorithm);u=CreateReadableByteStream(startAlgorithm,pull2Algorithm,cancel2Algorithm);forwardReaderError(t);return[s,u]}function convertUnderlyingDefaultOrByteSource(e,t){assertDictionary(e,t);const r=e;const n=r===null||r===void 0?void 0:r.autoAllocateChunkSize;const o=r===null||r===void 0?void 0:r.cancel;const a=r===null||r===void 0?void 0:r.pull;const i=r===null||r===void 0?void 0:r.start;const s=r===null||r===void 0?void 0:r.type;return{autoAllocateChunkSize:n===undefined?undefined:convertUnsignedLongLongWithEnforceRange(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:o===undefined?undefined:convertUnderlyingSourceCancelCallback(o,r,`${t} has member 'cancel' that`),pull:a===undefined?undefined:convertUnderlyingSourcePullCallback(a,r,`${t} has member 'pull' that`),start:i===undefined?undefined:convertUnderlyingSourceStartCallback(i,r,`${t} has member 'start' that`),type:s===undefined?undefined:convertReadableStreamType(s,`${t} has member 'type' that`)}}function convertUnderlyingSourceCancelCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSourcePullCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSourceStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertReadableStreamType(e,t){e=`${e}`;if(e!=="bytes"){throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`)}return e}function convertReaderOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.mode;return{mode:r===undefined?undefined:convertReadableStreamReaderMode(r,`${t} has member 'mode' that`)}}function convertReadableStreamReaderMode(e,t){e=`${e}`;if(e!=="byob"){throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`)}return e}function convertIteratorOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function convertPipeOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.preventAbort;const n=e===null||e===void 0?void 0:e.preventCancel;const o=e===null||e===void 0?void 0:e.preventClose;const a=e===null||e===void 0?void 0:e.signal;if(a!==undefined){assertAbortSignal(a,`${t} has member 'signal' that`)}return{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:a}}function assertAbortSignal(e,t){if(!isAbortSignal(e)){throw new TypeError(`${t} is not an AbortSignal.`)}}function convertReadableWritablePair(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.readable;assertRequiredField(r,"readable","ReadableWritablePair");assertReadableStream(r,`${t} has member 'readable' that`);const n=e===null||e===void 0?void 0:e.writable;assertRequiredField(n,"writable","ReadableWritablePair");assertWritableStream(n,`${t} has member 'writable' that`);return{readable:r,writable:n}}class ReadableStream{constructor(e={},t={}){if(e===undefined){e=null}else{assertObject(e,"First parameter")}const r=convertQueuingStrategy(t,"Second parameter");const n=convertUnderlyingDefaultOrByteSource(e,"First parameter");InitializeReadableStream(this);if(n.type==="bytes"){if(r.size!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}const e=ExtractHighWaterMark(r,0);SetUpReadableByteStreamControllerFromUnderlyingSource(this,n,e)}else{const e=ExtractSizeAlgorithm(r);const t=ExtractHighWaterMark(r,1);SetUpReadableStreamDefaultControllerFromUnderlyingSource(this,n,t,e)}}get locked(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("locked")}return IsReadableStreamLocked(this)}cancel(e=undefined){if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("cancel"))}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader"))}return ReadableStreamCancel(this,e)}getReader(e=undefined){if(!IsReadableStream(this)){throw streamBrandCheckException$1("getReader")}const t=convertReaderOptions(e,"First parameter");if(t.mode===undefined){return AcquireReadableStreamDefaultReader(this)}return AcquireReadableStreamBYOBReader(this)}pipeThrough(e,t={}){if(!IsReadableStream(this)){throw streamBrandCheckException$1("pipeThrough")}assertRequiredArgument(e,1,"pipeThrough");const r=convertReadableWritablePair(e,"First parameter");const n=convertPipeOptions(t,"Second parameter");if(IsReadableStreamLocked(this)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(IsWritableStreamLocked(r.writable)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}const o=ReadableStreamPipeTo(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal);setPromiseIsHandledToTrue(o);return r.readable}pipeTo(e,t={}){if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("pipeTo"))}if(e===undefined){return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`)}if(!IsWritableStream(e)){return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`))}let r;try{r=convertPipeOptions(t,"Second parameter")}catch(e){return promiseRejectedWith(e)}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(IsWritableStreamLocked(e)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ReadableStreamPipeTo(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("tee")}const e=ReadableStreamTee(this);return CreateArrayFromList(e)}values(e=undefined){if(!IsReadableStream(this)){throw streamBrandCheckException$1("values")}const t=convertIteratorOptions(e,"First parameter");return AcquireReadableStreamAsyncIterator(this,t.preventCancel)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:true},getReader:{enumerable:true},pipeThrough:{enumerable:true},pipeTo:{enumerable:true},tee:{enumerable:true},values:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStream.prototype,t.toStringTag,{value:"ReadableStream",configurable:true})}if(typeof t.asyncIterator==="symbol"){Object.defineProperty(ReadableStream.prototype,t.asyncIterator,{value:ReadableStream.prototype.values,writable:true,configurable:true})}function CreateReadableStream(e,t,r,n=1,o=(()=>1)){const a=Object.create(ReadableStream.prototype);InitializeReadableStream(a);const i=Object.create(ReadableStreamDefaultController.prototype);SetUpReadableStreamDefaultController(a,i,e,t,r,n,o);return a}function CreateReadableByteStream(e,t,r){const n=Object.create(ReadableStream.prototype);InitializeReadableStream(n);const o=Object.create(ReadableByteStreamController.prototype);SetUpReadableByteStreamController(n,o,e,t,r,0,undefined);return n}function InitializeReadableStream(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function IsReadableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return e instanceof ReadableStream}function IsReadableStreamLocked(e){if(e._reader===undefined){return false}return true}function ReadableStreamCancel(e,t){e._disturbed=true;if(e._state==="closed"){return promiseResolvedWith(undefined)}if(e._state==="errored"){return promiseRejectedWith(e._storedError)}ReadableStreamClose(e);const r=e._reader;if(r!==undefined&&IsReadableStreamBYOBReader(r)){r._readIntoRequests.forEach((e=>{e._closeSteps(undefined)}));r._readIntoRequests=new SimpleQueue}const n=e._readableStreamController[d](t);return transformPromiseWith(n,noop)}function ReadableStreamClose(e){e._state="closed";const t=e._reader;if(t===undefined){return}defaultReaderClosedPromiseResolve(t);if(IsReadableStreamDefaultReader(t)){t._readRequests.forEach((e=>{e._closeSteps()}));t._readRequests=new SimpleQueue}}function ReadableStreamError(e,t){e._state="errored";e._storedError=t;const r=e._reader;if(r===undefined){return}defaultReaderClosedPromiseReject(r,t);if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((e=>{e._errorSteps(t)}));r._readRequests=new SimpleQueue}else{r._readIntoRequests.forEach((e=>{e._errorSteps(t)}));r._readIntoRequests=new SimpleQueue}}function streamBrandCheckException$1(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function convertQueuingStrategyInit(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.highWaterMark;assertRequiredField(r,"highWaterMark","QueuingStrategyInit");return{highWaterMark:convertUnrestrictedDouble(r)}}const byteLengthSizeFunction=e=>e.byteLength;Object.defineProperty(byteLengthSizeFunction,"name",{value:"size",configurable:true});class ByteLengthQueuingStrategy{constructor(e){assertRequiredArgument(e,1,"ByteLengthQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("highWaterMark")}return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("size")}return byteLengthSizeFunction}}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ByteLengthQueuingStrategy.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:true})}function byteLengthBrandCheckException(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function IsByteLengthQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")){return false}return e instanceof ByteLengthQueuingStrategy}const countSizeFunction=()=>1;Object.defineProperty(countSizeFunction,"name",{value:"size",configurable:true});class CountQueuingStrategy{constructor(e){assertRequiredArgument(e,1,"CountQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("highWaterMark")}return this._countQueuingStrategyHighWaterMark}get size(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("size")}return countSizeFunction}}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(CountQueuingStrategy.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:true})}function countBrandCheckException(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function IsCountQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")){return false}return e instanceof CountQueuingStrategy}function convertTransformer(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.flush;const n=e===null||e===void 0?void 0:e.readableType;const o=e===null||e===void 0?void 0:e.start;const a=e===null||e===void 0?void 0:e.transform;const i=e===null||e===void 0?void 0:e.writableType;return{flush:r===undefined?undefined:convertTransformerFlushCallback(r,e,`${t} has member 'flush' that`),readableType:n,start:o===undefined?undefined:convertTransformerStartCallback(o,e,`${t} has member 'start' that`),transform:a===undefined?undefined:convertTransformerTransformCallback(a,e,`${t} has member 'transform' that`),writableType:i}}function convertTransformerFlushCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertTransformerStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertTransformerTransformCallback(e,t,r){assertFunction(e,r);return(r,n)=>promiseCall(e,t,[r,n])}class TransformStream{constructor(e={},t={},r={}){if(e===undefined){e=null}const n=convertQueuingStrategy(t,"Second parameter");const o=convertQueuingStrategy(r,"Third parameter");const a=convertTransformer(e,"First parameter");if(a.readableType!==undefined){throw new RangeError("Invalid readableType specified")}if(a.writableType!==undefined){throw new RangeError("Invalid writableType specified")}const i=ExtractHighWaterMark(o,0);const s=ExtractSizeAlgorithm(o);const l=ExtractHighWaterMark(n,1);const u=ExtractSizeAlgorithm(n);let c;const f=newPromise((e=>{c=e}));InitializeTransformStream(this,f,l,u,i,s);SetUpTransformStreamDefaultControllerFromTransformer(this,a);if(a.start!==undefined){c(a.start(this._transformStreamController))}else{c(undefined)}}get readable(){if(!IsTransformStream(this)){throw streamBrandCheckException("readable")}return this._readable}get writable(){if(!IsTransformStream(this)){throw streamBrandCheckException("writable")}return this._writable}}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:true},writable:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(TransformStream.prototype,t.toStringTag,{value:"TransformStream",configurable:true})}function InitializeTransformStream(e,t,r,n,o,a){function startAlgorithm(){return t}function writeAlgorithm(t){return TransformStreamDefaultSinkWriteAlgorithm(e,t)}function abortAlgorithm(t){return TransformStreamDefaultSinkAbortAlgorithm(e,t)}function closeAlgorithm(){return TransformStreamDefaultSinkCloseAlgorithm(e)}e._writable=CreateWritableStream(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,r,n);function pullAlgorithm(){return TransformStreamDefaultSourcePullAlgorithm(e)}function cancelAlgorithm(t){TransformStreamErrorWritableAndUnblockWrite(e,t);return promiseResolvedWith(undefined)}e._readable=CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,o,a);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;TransformStreamSetBackpressure(e,true);e._transformStreamController=undefined}function IsTransformStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return e instanceof TransformStream}function TransformStreamError(e,t){ReadableStreamDefaultControllerError(e._readable._readableStreamController,t);TransformStreamErrorWritableAndUnblockWrite(e,t)}function TransformStreamErrorWritableAndUnblockWrite(e,t){TransformStreamDefaultControllerClearAlgorithms(e._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(e._writable._writableStreamController,t);if(e._backpressure){TransformStreamSetBackpressure(e,false)}}function TransformStreamSetBackpressure(e,t){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=newPromise((t=>{e._backpressureChangePromise_resolve=t}));e._backpressure=t}class TransformStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("desiredSize")}const e=this._controlledTransformStream._readable._readableStreamController;return ReadableStreamDefaultControllerGetDesiredSize(e)}enqueue(e=undefined){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("enqueue")}TransformStreamDefaultControllerEnqueue(this,e)}error(e=undefined){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("error")}TransformStreamDefaultControllerError(this,e)}terminate(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("terminate")}TransformStreamDefaultControllerTerminate(this)}}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:true},error:{enumerable:true},terminate:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(TransformStreamDefaultController.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:true})}function IsTransformStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return e instanceof TransformStreamDefaultController}function SetUpTransformStreamDefaultController(e,t,r,n){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=n}function SetUpTransformStreamDefaultControllerFromTransformer(e,t){const r=Object.create(TransformStreamDefaultController.prototype);let transformAlgorithm=e=>{try{TransformStreamDefaultControllerEnqueue(r,e);return promiseResolvedWith(undefined)}catch(e){return promiseRejectedWith(e)}};let flushAlgorithm=()=>promiseResolvedWith(undefined);if(t.transform!==undefined){transformAlgorithm=e=>t.transform(e,r)}if(t.flush!==undefined){flushAlgorithm=()=>t.flush(r)}SetUpTransformStreamDefaultController(e,r,transformAlgorithm,flushAlgorithm)}function TransformStreamDefaultControllerClearAlgorithms(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function TransformStreamDefaultControllerEnqueue(e,t){const r=e._controlledTransformStream;const n=r._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(n)){throw new TypeError("Readable side is not in a state that permits enqueue")}try{ReadableStreamDefaultControllerEnqueue(n,t)}catch(e){TransformStreamErrorWritableAndUnblockWrite(r,e);throw r._readable._storedError}const o=ReadableStreamDefaultControllerHasBackpressure(n);if(o!==r._backpressure){TransformStreamSetBackpressure(r,true)}}function TransformStreamDefaultControllerError(e,t){TransformStreamError(e._controlledTransformStream,t)}function TransformStreamDefaultControllerPerformTransform(e,t){const r=e._transformAlgorithm(t);return transformPromiseWith(r,undefined,(t=>{TransformStreamError(e._controlledTransformStream,t);throw t}))}function TransformStreamDefaultControllerTerminate(e){const t=e._controlledTransformStream;const r=t._readable._readableStreamController;ReadableStreamDefaultControllerClose(r);const n=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(t,n)}function TransformStreamDefaultSinkWriteAlgorithm(e,t){const r=e._transformStreamController;if(e._backpressure){const n=e._backpressureChangePromise;return transformPromiseWith(n,(()=>{const n=e._writable;const o=n._state;if(o==="erroring"){throw n._storedError}return TransformStreamDefaultControllerPerformTransform(r,t)}))}return TransformStreamDefaultControllerPerformTransform(r,t)}function TransformStreamDefaultSinkAbortAlgorithm(e,t){TransformStreamError(e,t);return promiseResolvedWith(undefined)}function TransformStreamDefaultSinkCloseAlgorithm(e){const t=e._readable;const r=e._transformStreamController;const n=r._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(r);return transformPromiseWith(n,(()=>{if(t._state==="errored"){throw t._storedError}ReadableStreamDefaultControllerClose(t._readableStreamController)}),(r=>{TransformStreamError(e,r);throw t._storedError}))}function TransformStreamDefaultSourcePullAlgorithm(e){TransformStreamSetBackpressure(e,false);return e._backpressureChangePromise}function defaultControllerBrandCheckException(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function streamBrandCheckException(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}e.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy;e.CountQueuingStrategy=CountQueuingStrategy;e.ReadableByteStreamController=ReadableByteStreamController;e.ReadableStream=ReadableStream;e.ReadableStreamBYOBReader=ReadableStreamBYOBReader;e.ReadableStreamBYOBRequest=ReadableStreamBYOBRequest;e.ReadableStreamDefaultController=ReadableStreamDefaultController;e.ReadableStreamDefaultReader=ReadableStreamDefaultReader;e.TransformStream=TransformStream;e.TransformStreamDefaultController=TransformStreamDefaultController;e.WritableStream=WritableStream;e.WritableStreamDefaultController=WritableStreamDefaultController;e.WritableStreamDefaultWriter=WritableStreamDefaultWriter;Object.defineProperty(e,"__esModule",{value:true})}))},4091:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},665:(e,t,r)=>{"use strict";e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach((function(e){t.push(e)}))}else if(arguments.length>0){for(var r=0,n=arguments.length;r<n;r++){t.push(arguments[r])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var r=e.prev;if(t){t.prev=r}if(r){r.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=r}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++){e.call(t,r.value,n,this);r=r.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--){e.call(t,r.value,n,this);r=r.prev}};Yallist.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++){r=r.next}if(t===e&&r!==null){return r.value}};Yallist.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++){r=r.prev}if(t===e&&r!==null){return r.value}};Yallist.prototype.map=function(e,t){t=t||this;var r=new Yallist;for(var n=this.head;n!==null;){r.push(e.call(t,n.value,this));n=n.next}return r};Yallist.prototype.mapReverse=function(e,t){t=t||this;var r=new Yallist;for(var n=this.tail;n!==null;){r.push(e.call(t,n.value,this));n=n.prev}return r};Yallist.prototype.reduce=function(e,t){var r;var n=this.head;if(arguments.length>1){r=t}else if(this.head){n=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var o=0;n!==null;o++){r=e(r,n.value,o);n=n.next}return r};Yallist.prototype.reduceReverse=function(e,t){var r;var n=this.tail;if(arguments.length>1){r=t}else if(this.tail){n=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var o=this.length-1;n!==null;o--){r=e(r,n.value,o);n=n.prev}return r};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,r=this.head;r!==null;t++){e[t]=r.value;r=r.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,r=this.tail;r!==null;t++){e[t]=r.value;r=r.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var n=0,o=this.head;o!==null&&n<e;n++){o=o.next}for(;o!==null&&n<t;n++,o=o.next){r.push(o.value)}return r};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var n=this.length,o=this.tail;o!==null&&n>t;n--){o=o.prev}for(;o!==null&&n>e;n--,o=o.prev){r.push(o.value)}return r};Yallist.prototype.splice=function(e,t,...r){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var n=0,o=this.head;o!==null&&n<e;n++){o=o.next}var a=[];for(var n=0;o&&n<t;n++){a.push(o.value);o=this.removeNode(o)}if(o===null){o=this.tail}if(o!==this.head&&o!==this.tail){o=o.prev}for(var n=0;n<r.length;n++){o=insert(this,o,r[n])}return a};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next;r.next=n}this.head=t;this.tail=e;return this};function insert(e,t,r){var n=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);if(n.next===null){e.tail=n}if(n.prev===null){e.head=n}e.length++;return n}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,r,n){if(!(this instanceof Node)){return new Node(e,t,r,n)}this.list=n;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(4091)(Yallist)}catch(e){}},9081:module=>{module.exports=eval("require")("stream/web")},8010:(e,t,r)=>{const n=65536;if(!globalThis.ReadableStream){try{Object.assign(globalThis,r(9081))}catch(e){Object.assign(globalThis,r(1452))}}try{const{Blob:e}=r(4293);if(e&&!e.prototype.stream){e.prototype.stream=function name(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const o=r.slice(t,Math.min(r.size,t+n));const a=await o.arrayBuffer();t+=a.byteLength;e.enqueue(new Uint8Array(a));if(t===r.size){e.close()}}})}}}catch(e){}},2357:e=>{"use strict";e.exports=require("assert")},4293:e=>{"use strict";e.exports=require("buffer")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},8818:e=>{"use strict";e.exports=require("tls")},1669:e=>{"use strict";e.exports=require("util")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e].call(r.exports,r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return r.exports}(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{"use strict";__nccwpck_require__.r(__webpack_exports__);var e=__nccwpck_require__(4777);const t=/(?<=(required_version.=.)).*/;async function versionConstraintSearch(r){const n=await e.s("required_versions*s*",r,".tf$");const o=Object.keys(n)[0];const a=n[o].line;if(a){const e=t.exec(a);const r=e?e[0]:"";return r}return""}var r=__nccwpck_require__(8605);var n=__nccwpck_require__(7211);const o=require("zlib");const a=require("stream");var i=__nccwpck_require__(2371);var s=__nccwpck_require__(1669);var l=__nccwpck_require__(8010);const u=65536;async function*toIterator(e,t=true){for(let r of e){if("stream"in r){yield*r.stream()}else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset;let t=r.byteOffset+r.byteLength;while(e!==t){const n=Math.min(t-e,u);const o=r.buffer.slice(e,e+n);e+=o.byteLength;yield new Uint8Array(o)}}else{yield r}}else{let e=0;while(e!==r.size){const t=r.slice(e,Math.min(r.size,e+u));const n=await t.arrayBuffer();e+=n.byteLength;yield new Uint8Array(n)}}}}const c=class Blob{#parts=[];#type="";#size=0;constructor(e=[],t={}){let r=0;const n=e.map((e=>{let t;if(ArrayBuffer.isView(e)){t=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}else if(e instanceof ArrayBuffer){t=new Uint8Array(e.slice(0))}else if(e instanceof Blob){t=e}else{t=(new TextEncoder).encode(e)}r+=ArrayBuffer.isView(t)?t.byteLength:t.size;return t}));const o=t.type===undefined?"":String(t.type);this.#type=/[^\u0020-\u007E]/.test(o)?"":o;this.#size=r;this.#parts=n}get size(){return this.#size}get type(){return this.#type}async text(){const e=new TextDecoder;let t="";for await(let r of toIterator(this.#parts,false)){t+=e.decode(r,{stream:true})}t+=e.decode();return t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of toIterator(this.#parts,false)){e.set(r,t);t+=r.length}return e.buffer}stream(){const e=toIterator(this.#parts,true);return new ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)}})}slice(e=0,t=this.size,r=""){const{size:n}=this;let o=e<0?Math.max(n+e,0):Math.min(e,n);let a=t<0?Math.max(n+t,0):Math.min(t,n);const i=Math.max(a-o,0);const s=this.#parts;const l=[];let u=0;for(const e of s){if(u>=i){break}const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(o&&t<=o){o-=t;a-=t}else{let r;if(ArrayBuffer.isView(e)){r=e.subarray(o,Math.min(t,a));u+=r.byteLength}else{r=e.slice(o,Math.min(t,a));u+=r.size}l.push(r);o=0}}const c=new Blob([],{type:String(r).toLowerCase()});c.#size=i;c.#parts=l;return c}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e==="object"&&typeof e.constructor==="function"&&(typeof e.stream==="function"||typeof e.arrayBuffer==="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(c.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});const f=c;const d=f;class FetchBaseError extends Error{constructor(e,t){super(e);Error.captureStackTrace(this,this.constructor);this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class FetchError extends FetchBaseError{constructor(e,t,r){super(e,t);if(r){this.code=this.errno=r.code;this.erroredSysCall=r.syscall}}}const p=require("crypto");const h=Symbol.toStringTag;const isURLSearchParameters=e=>typeof e==="object"&&typeof e.append==="function"&&typeof e.delete==="function"&&typeof e.get==="function"&&typeof e.getAll==="function"&&typeof e.has==="function"&&typeof e.set==="function"&&typeof e.sort==="function"&&e[h]==="URLSearchParams";const isBlob=e=>typeof e==="object"&&typeof e.arrayBuffer==="function"&&typeof e.type==="string"&&typeof e.stream==="function"&&typeof e.constructor==="function"&&/^(Blob|File)$/.test(e[h]);function isFormData(e){return typeof e==="object"&&typeof e.append==="function"&&typeof e.set==="function"&&typeof e.get==="function"&&typeof e.getAll==="function"&&typeof e.delete==="function"&&typeof e.keys==="function"&&typeof e.values==="function"&&typeof e.entries==="function"&&typeof e.constructor==="function"&&e[h]==="FormData"}const isAbortSignal=e=>typeof e==="object"&&(e[h]==="AbortSignal"||e[h]==="EventTarget");const m="\r\n";const b="-".repeat(2);const y=Buffer.byteLength(m);const getFooter=e=>`${b}${e}${b}${m.repeat(2)}`;function getHeader(e,t,r){let n="";n+=`${b}${e}${m}`;n+=`Content-Disposition: form-data; name="${t}"`;if(isBlob(r)){n+=`; filename="${r.name}"${m}`;n+=`Content-Type: ${r.type||"application/octet-stream"}`}return`${n}${m.repeat(2)}`}const getBoundary=()=>(0,p.randomBytes)(8).toString("hex");async function*formDataIterator(e,t){for(const[r,n]of e){yield getHeader(t,r,n);if(isBlob(n)){yield*n.stream()}else{yield n}yield m}yield getFooter(t)}function getFormDataLength(e,t){let r=0;for(const[n,o]of e){r+=Buffer.byteLength(getHeader(t,n,o));r+=isBlob(o)?o.size:Buffer.byteLength(String(o));r+=y}r+=Buffer.byteLength(getFooter(t));return r}const S=Symbol("Body internals");class Body{constructor(e,{size:t=0}={}){let r=null;if(e===null){e=null}else if(isURLSearchParameters(e)){e=Buffer.from(e.toString())}else if(isBlob(e)){}else if(Buffer.isBuffer(e)){}else if(s.types.isAnyArrayBuffer(e)){e=Buffer.from(e)}else if(ArrayBuffer.isView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(e instanceof a){}else if(isFormData(e)){r=`NodeFetchFormDataBoundary${getBoundary()}`;e=a.Readable.from(formDataIterator(e,r))}else{e=Buffer.from(String(e))}this[S]={body:e,boundary:r,disturbed:false,error:null};this.size=t;if(e instanceof a){e.on("error",(e=>{const t=e instanceof FetchBaseError?e:new FetchError(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[S].error=t}))}}get body(){return this[S].body}get bodyUsed(){return this[S].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await consumeBody(this);return e.slice(t,t+r)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[S].body&&this[S].body.type||"";const t=await this.buffer();return new d([t],{type:e})}async json(){const e=await consumeBody(this);return JSON.parse(e.toString())}async text(){const e=await consumeBody(this);return e.toString()}buffer(){return consumeBody(this)}}Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});async function consumeBody(e){if(e[S].disturbed){throw new TypeError(`body used already for: ${e.url}`)}e[S].disturbed=true;if(e[S].error){throw e[S].error}let{body:t}=e;if(t===null){return Buffer.alloc(0)}if(isBlob(t)){t=a.Readable.from(t.stream())}if(Buffer.isBuffer(t)){return t}if(!(t instanceof a)){return Buffer.alloc(0)}const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new FetchError(`content size at ${e.url} over limit: ${e.size}`,"max-size");t.destroy(r);throw r}n+=o.length;r.push(o)}}catch(t){const r=t instanceof FetchBaseError?t:new FetchError(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t);throw r}if(t.readableEnded===true||t._readableState.ended===true){try{if(r.every((e=>typeof e==="string"))){return Buffer.from(r.join(""))}return Buffer.concat(r,n)}catch(t){throw new FetchError(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}else{throw new FetchError(`Premature close of server response while trying to fetch ${e.url}`)}}const clone=(e,t)=>{let r;let n;let{body:o}=e;if(e.bodyUsed){throw new Error("cannot clone body after it is used")}if(o instanceof a&&typeof o.getBoundary!=="function"){r=new a.PassThrough({highWaterMark:t});n=new a.PassThrough({highWaterMark:t});o.pipe(r);o.pipe(n);e[S].body=r;o=n}return o};const extractContentType=(e,t)=>{if(e===null){return null}if(typeof e==="string"){return"text/plain;charset=UTF-8"}if(isURLSearchParameters(e)){return"application/x-www-form-urlencoded;charset=UTF-8"}if(isBlob(e)){return e.type||null}if(Buffer.isBuffer(e)||s.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)){return null}if(e&&typeof e.getBoundary==="function"){return`multipart/form-data;boundary=${e.getBoundary()}`}if(isFormData(e)){return`multipart/form-data; boundary=${t[S].boundary}`}if(e instanceof a){return null}return"text/plain;charset=UTF-8"};const getTotalBytes=e=>{const{body:t}=e;if(t===null){return 0}if(isBlob(t)){return t.size}if(Buffer.isBuffer(t)){return t.length}if(t&&typeof t.getLengthSync==="function"){return t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null}if(isFormData(t)){return getFormDataLength(e[S].boundary)}return null};const writeToStream=(e,{body:t})=>{if(t===null){e.end()}else if(isBlob(t)){a.Readable.from(t.stream()).pipe(e)}else if(Buffer.isBuffer(t)){e.write(t);e.end()}else{t.pipe(e)}};const R=typeof r.validateHeaderName==="function"?r.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"});throw t}};const g=typeof r.validateHeaderValue==="function"?r.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"});throw t}};class Headers extends URLSearchParams{constructor(e){let t=[];if(e instanceof Headers){const r=e.raw();for(const[e,n]of Object.entries(r)){t.push(...n.map((t=>[e,t])))}}else if(e==null){}else if(typeof e==="object"&&!s.types.isBoxedPrimitive(e)){const r=e[Symbol.iterator];if(r==null){t.push(...Object.entries(e))}else{if(typeof r!=="function"){throw new TypeError("Header pairs must be iterable")}t=[...e].map((e=>{if(typeof e!=="object"||s.types.isBoxedPrimitive(e)){throw new TypeError("Each header pair must be an iterable object")}return[...e]})).map((e=>{if(e.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}return[...e]}))}}else{throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)")}t=t.length>0?t.map((([e,t])=>{R(e);g(e,String(t));return[String(e).toLowerCase(),String(t)]})):undefined;super(t);return new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>{R(r);g(r,String(n));return URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n))};case"delete":case"has":case"getAll":return r=>{R(r);return URLSearchParams.prototype[t].call(e,String(r).toLowerCase())};case"keys":return()=>{e.sort();return new Set(URLSearchParams.prototype.keys.call(e)).keys()};default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(t.length===0){return null}let r=t.join(", ");if(/^content-encoding$/i.test(e)){r=r.toLowerCase()}return r}forEach(e,t=undefined){for(const r of this.keys()){Reflect.apply(e,t,[this.get(r),r,this])}}*values(){for(const e of this.keys()){yield this.get(e)}}*entries(){for(const e of this.keys()){yield[e,this.get(e)]}}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>{e[t]=this.getAll(t);return e}),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);if(t==="host"){e[t]=r[0]}else{e[t]=r.length>1?r:r[0]}return e}),{})}}Object.defineProperties(Headers.prototype,["get","entries","forEach","values"].reduce(((e,t)=>{e[t]={enumerable:true};return e}),{}));function fromRawHeaders(e=[]){return new Headers(e.reduce(((e,t,r,n)=>{if(r%2===0){e.push(n.slice(r,r+2))}return e}),[]).filter((([e,t])=>{try{R(e);g(e,String(t));return true}catch{return false}})))}const _=new Set([301,302,303,307,308]);const isRedirect=e=>_.has(e);const v=Symbol("Response internals");class Response extends Body{constructor(e=null,t={}){super(e,t);const r=t.status!=null?t.status:200;const n=new Headers(t.headers);if(e!==null&&!n.has("Content-Type")){const t=extractContentType(e);if(t){n.append("Content-Type",t)}}this[v]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[v].type}get url(){return this[v].url||""}get status(){return this[v].status}get ok(){return this[v].status>=200&&this[v].status<300}get redirected(){return this[v].counter>0}get statusText(){return this[v].statusText}get headers(){return this[v].headers}get highWaterMark(){return this[v].highWaterMark}clone(){return new Response(clone(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size})}static redirect(e,t=302){if(!isRedirect(t)){throw new RangeError('Failed to execute "redirect" on "response": Invalid status code')}return new Response(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new Response(null,{status:0,statusText:""});e[v].type="error";return e}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Response.prototype,{type:{enumerable:true},url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});const C=require("url");const getSearch=e=>{if(e.search){return e.search}const t=e.href.length-1;const r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""};const w=Symbol("Request internals");const isRequest=e=>typeof e==="object"&&typeof e[w]==="object";class Request extends Body{constructor(e,t={}){let r;if(isRequest(e)){r=new URL(e.url)}else{r=new URL(e);e={}}let n=t.method||e.method||"GET";n=n.toUpperCase();if((t.body!=null||isRequest(e))&&e.body!==null&&(n==="GET"||n==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}const o=t.body?t.body:isRequest(e)&&e.body!==null?clone(e):null;super(o,{size:t.size||e.size||0});const a=new Headers(t.headers||e.headers||{});if(o!==null&&!a.has("Content-Type")){const e=extractContentType(o,this);if(e){a.append("Content-Type",e)}}let i=isRequest(e)?e.signal:null;if("signal"in t){i=t.signal}if(i!=null&&!isAbortSignal(i)){throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget")}this[w]={method:n,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:i};this.follow=t.follow===undefined?e.follow===undefined?20:e.follow:t.follow;this.compress=t.compress===undefined?e.compress===undefined?true:e.compress:t.compress;this.counter=t.counter||e.counter||0;this.agent=t.agent||e.agent;this.highWaterMark=t.highWaterMark||e.highWaterMark||16384;this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||false}get method(){return this[w].method}get url(){return(0,C.format)(this[w].parsedURL)}get headers(){return this[w].headers}get redirect(){return this[w].redirect}get signal(){return this[w].signal}clone(){return new Request(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});const getNodeRequestOptions=e=>{const{parsedURL:t}=e[w];const r=new Headers(e[w].headers);if(!r.has("Accept")){r.set("Accept","*/*")}let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)){n="0"}if(e.body!==null){const t=getTotalBytes(e);if(typeof t==="number"&&!Number.isNaN(t)){n=String(t)}}if(n){r.set("Content-Length",n)}if(!r.has("User-Agent")){r.set("User-Agent","node-fetch")}if(e.compress&&!r.has("Accept-Encoding")){r.set("Accept-Encoding","gzip,deflate,br")}let{agent:o}=e;if(typeof o==="function"){o=o(t)}if(!r.has("Connection")&&!o){r.set("Connection","close")}const a=getSearch(t);const i={path:t.pathname+a,pathname:t.pathname,hostname:t.hostname,protocol:t.protocol,port:t.port,hash:t.hash,search:t.search,query:t.query,href:t.href,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o};return i};class AbortError extends FetchBaseError{constructor(e,t="aborted"){super(e,t)}}const E=new Set(["data:","http:","https:"]);async function fetch(e,t){return new Promise(((s,l)=>{const u=new Request(e,t);const c=getNodeRequestOptions(u);if(!E.has(c.protocol)){throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${c.protocol.replace(/:$/,"")}" is not supported.`)}if(c.protocol==="data:"){const e=i(u.url);const t=new Response(e,{headers:{"Content-Type":e.typeFull}});s(t);return}const f=(c.protocol==="https:"?n:r).request;const{signal:d}=u;let p=null;const abort=()=>{const e=new AbortError("The operation was aborted.");l(e);if(u.body&&u.body instanceof a.Readable){u.body.destroy(e)}if(!p||!p.body){return}p.body.emit("error",e)};if(d&&d.aborted){abort();return}const abortAndFinalize=()=>{abort();finalize()};const h=f(c);if(d){d.addEventListener("abort",abortAndFinalize)}const finalize=()=>{h.abort();if(d){d.removeEventListener("abort",abortAndFinalize)}};h.on("error",(e=>{l(new FetchError(`request to ${u.url} failed, reason: ${e.message}`,"system",e));finalize()}));fixResponseChunkedTransferBadEnding(h,(e=>{p.body.destroy(e)}));if(process.version<"v14"){h.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount}));e.prependListener("close",(r=>{if(p&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE";p.body.emit("error",e)}}))}))}h.on("response",(e=>{h.setTimeout(0);const r=fromRawHeaders(e.rawHeaders);if(isRedirect(e.statusCode)){const n=r.get("Location");const o=n===null?null:new URL(n,u.url);switch(u.redirect){case"error":l(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect"));finalize();return;case"manual":if(o!==null){r.set("Location",o)}break;case"follow":{if(o===null){break}if(u.counter>=u.follow){l(new FetchError(`maximum redirect reached at: ${u.url}`,"max-redirect"));finalize();return}const r={headers:new Headers(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,size:u.size};if(e.statusCode!==303&&u.body&&t.body instanceof a.Readable){l(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&u.method==="POST"){r.method="GET";r.body=undefined;r.headers.delete("content-length")}s(fetch(new Request(o,r)));finalize();return}default:return l(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}if(d){e.once("end",(()=>{d.removeEventListener("abort",abortAndFinalize)}))}let n=(0,a.pipeline)(e,new a.PassThrough,l);if(process.version<"v12.10"){e.on("aborted",abortAndFinalize)}const i={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:r,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark};const c=r.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||c===null||e.statusCode===204||e.statusCode===304){p=new Response(n,i);s(p);return}const f={flush:o.Z_SYNC_FLUSH,finishFlush:o.Z_SYNC_FLUSH};if(c==="gzip"||c==="x-gzip"){n=(0,a.pipeline)(n,o.createGunzip(f),l);p=new Response(n,i);s(p);return}if(c==="deflate"||c==="x-deflate"){const t=(0,a.pipeline)(e,new a.PassThrough,l);t.once("data",(e=>{n=(e[0]&15)===8?(0,a.pipeline)(n,o.createInflate(),l):(0,a.pipeline)(n,o.createInflateRaw(),l);p=new Response(n,i);s(p)}));return}if(c==="br"){n=(0,a.pipeline)(n,o.createBrotliDecompress(),l);p=new Response(n,i);s(p);return}p=new Response(n,i);s(p)}));writeToStream(h,u)}))}function fixResponseChunkedTransferBadEnding(e,t){const r=Buffer.from("0\r\n\r\n");let n=false;let o=false;let a;e.on("response",(e=>{const{headers:t}=e;n=t["transfer-encoding"]==="chunked"&&!t["content-length"]}));e.on("socket",(i=>{const onSocketClose=()=>{if(n&&!o){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE";t(e)}};i.prependListener("close",onSocketClose);e.on("abort",(()=>{i.removeListener("close",onSocketClose)}));i.on("data",(e=>{o=Buffer.compare(e.slice(-5),r)===0;if(!o&&a){o=Buffer.compare(a.slice(-3),r.slice(0,3))===0&&Buffer.compare(e.slice(-2),r.slice(3))===0}a=e}))}))}var T=__nccwpck_require__(1383);var P;(function(e){e["arm"]="arm";e["x64"]="amd64";e["x32"]="386"})(P||(P={}));var I;(function(e){e["darwin"]="darwin";e["freebsd"]="freebsd";e["linux"]="linux";e["openbsd"]="openbsd";e["solaris"]="solaris";e["windows"]="windows"})(I||(I={}));async function getMetadata(){const e=await fetch("https://releases.hashicorp.com/terraform/index.json");const t=e.json();return t}async function getMinMaxVersions(e,t={}){const r=new T.Range(e.replace(/,/g,""),t);const n=await getMetadata();const o=Object.keys(n.versions);const a=T.minSatisfying(o,r);const i=T.maxSatisfying(o,r);if(a===i||e==="*"){return[i]}return[a,i]}var A=__nccwpck_require__(2186);async function run(){const e=A.getInput("directory");const t=await versionConstraintSearch(e);try{const e=t.replace(/,|"/g,"");const[r,n]=await getMinMaxVersions(e);A.setOutput("minVersion",r);if(n){A.setOutput("maxVersion",n)}else{A.setOutput("maxVersion",r)}}catch(e){console.error(e)}}run().catch((e=>{A.setFailed(e)}))})();module.exports=__webpack_exports__})();